"use strict";var ze=(le,q,e)=>new Promise((Q,v)=>{var _=I=>{try{Y(e.next(I))}catch(X){v(X)}},U=I=>{try{Y(e.throw(I))}catch(X){v(X)}},Y=I=>I.done?Q(I.value):Promise.resolve(I.value).then(_,U);Y((e=e.apply(le,q)).next())});(self.webpackChunk=self.webpackChunk||[]).push([[858],{68548:function(le,q,e){e.d(q,{W:function(){return o}});var Q=e(12444),v=e.n(Q),_=e(72004),U=e.n(_),Y=e(31996),I=e.n(Y),X=e(26037),F=e.n(X),$=e(67294),E=e(30789),r=e(85893),T=function(t){I()(d,t);var s=F()(d);function d(){return v()(this,d),s.apply(this,arguments)}return U()(d,[{key:"render",value:function(){return this.props.color==="Main"?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{border:"1px solid #aaa",height:16,width:16,borderRadius:"20%",display:"inline-flex"},children:[(0,r.jsx)("div",{style:{backgroundColor:"red",height:12,width:6,margin:"1px 0 1px 1px",borderTopLeftRadius:"20%",borderBottomLeftRadius:"20%",display:"inline-flex"}}),(0,r.jsx)("div",{style:{backgroundColor:"blue",height:12,width:6,margin:"1px 1px 1px 0",borderTopRightRadius:"20%",borderBottomRightRadius:"20%",display:"inline-flex"}})]}),"\xA0 Main"]}):(0,r.jsx)("div",{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{border:"1px solid #aaa",height:16,width:16,borderRadius:"20%",display:"inline-flex"},children:(0,r.jsx)("div",{style:{backgroundColor:E.E[this.props.color.toLowerCase()],height:12,width:12,margin:1,borderRadius:"20%",display:"inline-flex"}})}),"\xA0 ",this.props.color]})})}}]),d}($.Component),G=T,g=function(s){var d=s,x="Robot";s>256&&(x="Client",s-=256);var R;s>100?R="Blue":R="Red",s%=100;var u={1:"Hero",2:"Engineer",3:"No3. Infantry",4:"No4. Infantry",5:"No5. Infantry",6:"Drone"};return"".concat(R," ").concat(u[s]," ").concat(x," (").concat(d,")")},p={id:{title:"Id",key:"id",dataIndex:"id",valueType:"digit",editable:!1},name:{title:"Name",key:"name",dataIndex:"name"},group:{title:"Group",key:"group",dataIndex:"group"},kind:{title:"Kind",key:"kind",dataIndex:"kind",editable:!1},lineWidth:{title:"Line Width",key:"lineWidth",dataIndex:"lineWidth",valueType:"digit"},layer:{title:"Layer",key:"layer",dataIndex:"layer",valueType:"digit"},x:{title:"X",key:"x",dataIndex:"x",valueType:"digit"},y:{title:"Y",key:"y",dataIndex:"y",valueType:"digit"},x2:{title:"X2",key:"x2",dataIndex:"x2",valueType:"digit"},y2:{title:"Y2",key:"y2",dataIndex:"y2",valueType:"digit"},width:{title:"Width",key:"width",dataIndex:"width",valueType:"digit"},height:{title:"Height",key:"height",dataIndex:"height",valueType:"digit"},rx:{title:"Rx",key:"rx",dataIndex:"rx",valueType:"digit"},ry:{title:"Ry",key:"ry",dataIndex:"ry",valueType:"digit"},r:{title:"R",key:"r",dataIndex:"r",valueType:"digit"},startAngle:{title:"Start Angle",key:"startAngle",dataIndex:"startAngle",valueType:"digit"},endAngle:{title:"End Angle",key:"endAngle",dataIndex:"endAngle",valueType:"digit"},fontSize:{title:"Font Size",key:"fontSize",dataIndex:"fontSize",valueType:"digit"},float:{title:"Number",key:"float",dataIndex:"float",valueType:"digit"},number:{title:"Number",key:"number",dataIndex:"number",valueType:"digit"},text:{title:"Text",key:"text",dataIndex:"text",formItemProps:{rules:[{max:30},{type:"string"}]}},color:{title:"Color",key:"color",dataIndex:"color",valueType:"select",valueEnum:{main:(0,r.jsx)(G,{color:"Main"}),yellow:(0,r.jsx)(G,{color:"Yellow"}),green:(0,r.jsx)(G,{color:"Green"}),orange:(0,r.jsx)(G,{color:"Orange"}),purple:(0,r.jsx)(G,{color:"Purple"}),pink:(0,r.jsx)(G,{color:"Pink"}),cyan:(0,r.jsx)(G,{color:"Cyan"}),black:(0,r.jsx)(G,{color:"Black"}),white:(0,r.jsx)(G,{color:"White"})}},team:{title:"Team",key:"team",dataIndex:"team",valueType:"select",valueEnum:{red:(0,r.jsx)(G,{color:"Red"}),blue:(0,r.jsx)(G,{color:"Blue"})}},role:{title:"Role",key:"role",dataIndex:"role",valueType:"select",valueEnum:{1:"Hero",2:"Engineer",3:"No3. Infantry",4:"No4. Infantry",5:"No5. Infantry",6:"Drone"}},backgroundImage:{title:"Background Image",key:"backgroundImage",dataIndex:"backgroundImage",valueType:"switch"},length:{title:"DataLength",key:"length",dataIndex:"length",valueType:"digit"},seq:{title:"Seq",key:"seq",dataIndex:"seq",valueType:"digit"},cmd_id:{title:"Cmd Id",key:"cmd_id",dataIndex:"cmd_id",valueType:"text",renderText:function(s){return"0x".concat(s.toString(16).padStart(4,"0"))}},sub_id:{title:"Sub Id",key:"sub_id",dataIndex:"sub_id",valueType:"text",renderText:function(s){return"0x".concat(s.toString(16).padStart(4,"0"))}},sender:{title:"Sender",key:"sender",dataIndex:"sender",valueType:"select",renderText:g},receiver:{title:"Receiver",key:"receiver",dataIndex:"receiver",valueType:"select",renderText:g},error:{title:"Error",key:"error",dataIndex:"error",valueType:"text"},operation:{title:"Operation",key:"operation",dataIndex:"operation",valueType:"text"}};function o(t){for(var s=Object.keys(t),d=[],x=0;x<s.length;x++)p[s[x]]&&d.push(p[s[x]]);return d}},62388:function(le,q,e){e.d(q,{R:function(){return g},t:function(){return p}});var Q=e(32777),v=e(30789),_=Q.fabric.util.createClass(Q.fabric.Rect,{type:"UiRect",id:0,name:"",layer:0,groupName:"",ratio:1,_color:"",team:"red",initialize:function(t){t||(t={}),t.color||(t.color="main"),this.id=t.id,this.name=t.name,this.layer=t.layer,this.groupName=t.groupName,this.ratio=t.ratio,this._color=t.color,this.team=t.team,t.lockRotation=!0,t.lockScalingFlip=!0,t.hasRotatingPoint=!1,t.width||(t.width=50/this.ratio),t.height||(t.height=50/this.ratio),t.left||(t.left=50/this.ratio),t.top||(t.top=50/this.ratio),t.strokeWidth||(t.strokeWidth=1/this.ratio),this._color&&this._color!=="main"?t.stroke=v.E[this._color]:(t.stroke=v.E[t.team],this._color="main"),t.fill=null,this.callSuper("initialize",t),this.moveTo(t.layer),this.setControlVisible("mtr",!1),this.transparentCorners=!1},resizeScale:function(){this.set("width",Math.round(this.width*this.scaleX*this.ratio)/this.ratio),this.set("height",Math.round(this.height*this.scaleY*this.ratio)/this.ratio),this.set("left",Math.round(this.left*this.ratio)/this.ratio),this.set("top",Math.round(this.top*this.ratio)/this.ratio),this.set("scaleX",1),this.set("scaleY",1)},toObject:function(){return{type:this.type,id:this.id,name:this.name,layer:this.layer,group:this.groupName,width:this.width*this.ratio,height:this.height*this.ratio,x:this.left*this.ratio,y:this.top*this.ratio,color:this._color,lineWidth:this.strokeWidth*this.ratio}},fromObject:function(t){this._color=t.color,this.id=t.id,this.name=t.name,this.layer=t.layer,this.groupName=t.group,this.set("width",t.width/this.ratio),this.set("height",t.height/this.ratio),this.set("left",t.x/this.ratio),this.set("top",t.y/this.ratio),this.set("strokeWidth",t.lineWidth/this.ratio),this._color==="main"?this.set("stroke",v.E[this.team]):this.set("stroke",v.E[this._color]),this.moveTo(t.layer)},setRatio:function(t){this.set("width",this.width*this.ratio/t),this.set("height",this.height*this.ratio/t),this.set("left",this.left*this.ratio/t),this.set("top",this.top*this.ratio/t),this.set("strokeWidth",this.strokeWidth*this.ratio/t),this.ratio=t},setTeam:function(t){this.team=t,this._color==="main"&&this.set("stroke",v.E[this.team])}}),U=Q.fabric.util.createClass(Q.fabric.Line,{type:"UiLine",id:0,name:"",layer:0,groupName:"",ratio:1,_color:"",team:"red",initialize:function(t){t||(t={}),t.color||(t.color="main"),this.id=t.id,this.name=t.name,this.layer=t.layer,this.groupName=t.groupName,this.ratio=t.ratio,this._color=t.color,this.team=t.team,t.lockRotation=!0,t.lockScalingFlip=!0,t.hasRotatingPoint=!1,t.x1||(t.x1=50/this.ratio),t.y1||(t.y1=50/this.ratio),t.x2||(t.x2=100/this.ratio),t.y2||(t.y2=100/this.ratio),t.strokeWidth||(t.strokeWidth=1/this.ratio),this._color&&this._color!=="main"?t.stroke=v.E[this._color]:(t.stroke=v.E[t.team],this._color="main"),t.fill=null,this.callSuper("initialize",[t.x1,t.y1,t.x2,t.y2],t),this.moveTo(t.layer),this.setControlVisible("mtr",!1),this.transparentCorners=!1},resizeScale:function(){var t=Math.min(this.x1,this.x2),s=Math.min(this.y1,this.y2),d=this.left-t,x=this.top-s;if(this.x1<this.x2){var R=Math.round((this.x2-this.x1)*this.scaleX);this.set("x1",Math.round((this.x1+d)*this.ratio)/this.ratio),this.set("x2",Math.round((this.x1+R)*this.ratio)/this.ratio)}else{var u=Math.round((this.x1-this.x2)*this.scaleX);this.set("x2",Math.round((this.x2+d)*this.ratio)/this.ratio),this.set("x1",Math.round((this.x2+u)*this.ratio)/this.ratio)}if(this.y1<this.y2){var i=Math.round((this.y2-this.y1)*this.scaleY);this.set("y1",Math.round((this.y1+x)*this.ratio)/this.ratio),this.set("y2",Math.round((this.y1+i)*this.ratio)/this.ratio)}else{var m=Math.round((this.y1-this.y2)*this.scaleY);this.set("y2",Math.round((this.y2+x)*this.ratio)/this.ratio),this.set("y1",Math.round((this.y2+m)*this.ratio)/this.ratio)}this.set("scaleX",1),this.set("scaleY",1)},toObject:function(){return{type:this.type,id:this.id,name:this.name,layer:this.layer,group:this.groupName,x:this.x1*this.ratio,y:this.y1*this.ratio,x2:this.x2*this.ratio,y2:this.y2*this.ratio,color:this._color,lineWidth:this.strokeWidth*this.ratio}},fromObject:function(t){this._color=t.color,this.id=t.id,this.name=t.name,this.layer=t.layer,this.groupName=t.group,this.set("x2",t.x2/this.ratio),this.set("y2",t.y2/this.ratio),this.set("x1",t.x/this.ratio),this.set("y1",t.y/this.ratio),this.set("strokeWidth",t.lineWidth/this.ratio),this._color==="main"?this.set("stroke",v.E[this.team]):this.set("stroke",v.E[this._color]),this.moveTo(t.layer)},setRatio:function(t){this.set("x1",this.x1*this.ratio/t),this.set("y1",this.y1*this.ratio/t),this.set("x2",this.x2*this.ratio/t),this.set("y2",this.y2*this.ratio/t),this.set("strokeWidth",this.strokeWidth*this.ratio/t),this.ratio=t},setTeam:function(t){this.team=t,this._color==="main"&&this.set("stroke",v.E[this.team])}}),Y=Q.fabric.util.createClass(Q.fabric.Ellipse,{type:"UiEllipse",id:0,name:"",layer:0,groupName:"",ratio:1,_color:"",team:"red",initialize:function(t){t||(t={}),t.color||(t.color="main"),this.id=t.id,this.name=t.name,this.layer=t.layer,this.groupName=t.groupName,this.ratio=t.ratio,this._color=t.color,this.team=t.team,t.lockRotation=!0,t.lockScalingFlip=!0,t.hasRotatingPoint=!1,t.rx||(t.rx=50/this.ratio),t.ry||(t.ry=50/this.ratio),t.left||(t.left=50/this.ratio),t.top||(t.top=50/this.ratio),t.strokeWidth||(t.strokeWidth=1/this.ratio),this._color&&this._color!=="main"?t.stroke=v.E[this._color]:(t.stroke=v.E[t.team],this._color="main"),t.fill=null,this.callSuper("initialize",t),this.moveTo(t.layer),this.setControlVisible("mtr",!1),this.transparentCorners=!1},resizeScale:function(){this.set("rx",Math.round(this.rx*this.scaleX*this.ratio)/this.ratio),this.set("ry",Math.round(this.ry*this.scaleY*this.ratio)/this.ratio),this.set("left",Math.round(this.left*this.ratio)/this.ratio),this.set("top",Math.round(this.top*this.ratio)/this.ratio),this.set("scaleX",1),this.set("scaleY",1)},toObject:function(){return{type:this.type,id:this.id,name:this.name,layer:this.layer,group:this.groupName,rx:this.rx*this.ratio,ry:this.ry*this.ratio,x:(this.left+this.rx)*this.ratio,y:(this.top+this.ry)*this.ratio,color:this._color,lineWidth:this.strokeWidth*this.ratio}},fromObject:function(t){this._color=t.color,this.id=t.id,this.name=t.name,this.layer=t.layer,this.groupName=t.group,this.set("rx",t.rx/this.ratio),this.set("ry",t.ry/this.ratio),this.set("left",(t.x-t.rx)/this.ratio),this.set("top",(t.y-t.ry)/this.ratio),this.set("strokeWidth",t.lineWidth/this.ratio),this._color==="main"?this.set("stroke",v.E[this.team]):this.set("stroke",v.E[this._color]),this.moveTo(t.layer)},setRatio:function(t){this.set("rx",this.rx*this.ratio/t),this.set("ry",this.ry*this.ratio/t),this.set("left",this.left*this.ratio/t),this.set("top",this.top*this.ratio/t),this.set("strokeWidth",this.strokeWidth*this.ratio/t),this.ratio=t},setTeam:function(t){this.team=t,this._color==="main"&&this.set("stroke",v.E[this.team])}}),I=Q.fabric.util.createClass(Y,{type:"UiRound",r:50,initialize:function(t){t||(t={}),t.r||(t.r=50/this.ratio),t.rx=t.r,t.ry=t.r,this.callSuper("initialize",t),this.setControlVisible("ml",!1),this.setControlVisible("mb",!1),this.setControlVisible("mr",!1),this.setControlVisible("mt",!1)},toObject:function(){return{type:this.type,id:this.id,name:this.name,layer:this.layer,group:this.groupName,r:this.rx*this.ratio,x:(this.left+this.rx)*this.ratio,y:(this.top+this.ry)*this.ratio,color:this._color,lineWidth:this.strokeWidth*this.ratio}},fromObject:function(t){t.rx=t.r,t.ry=t.r,this.callSuper("fromObject",t)}}),X=Q.fabric.util.createClass(Y,{type:"UiArc",startAngle:0,endAngle:90,initialize:function(t){t||(t={}),t.startAngle||(t.startAngle=0),t.endAngle||(t.endAngle=90),this.callSuper("initialize",t),this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.set("dirty",!0)},toObject:function(){return Q.fabric.util.object.extend(this.callSuper("toObject"),{startAngle:this.startAngle,endAngle:this.endAngle})},_render:function(t){var s=(this.startAngle-90)*(Math.PI/180),d=(this.endAngle-90)*(Math.PI/180);t.beginPath(),t.ellipse(0,0,this.rx,this.ry,0,s,d,!1),t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke()},fromObject:function(t){this.set("startAngle",t.startAngle),this.set("endAngle",t.endAngle),this.set("ry",1),this.callSuper("fromObject",t)}}),F=1.25;function $(o,t){var s=$.canvas||($.canvas=document.createElement("canvas")),d=s.getContext("2d");d.font=t;var x=d.measureText(o);return x.width*F}var E=Q.fabric.util.createClass(Q.fabric.Text,{type:"UiText",id:0,name:"",layer:0,groupName:"",ratio:1,_color:"",team:"red",rawFontSize:0,initialize:function(t){var s=this;t||(t={}),t.color||(t.color="main"),this.id=t.id,this.name=t.name,this.layer=t.layer,this.groupName=t.groupName,this.ratio=t.ratio,this._color=t.color,this.team=t.team,t.flipY=!0,t.fontSize||(t.fontSize=20/this.ratio),t.fontSize*=F,t.fontFamily||(t.fontFamily="ds-digitalnormal"),t.text||(t.text="Text"),t.left||(t.left=50/this.ratio),t.top||(t.top=50/this.ratio),t.top-=t.fontSize/this.ratio*2,t.width||(t.width=$(t.text,t.fontSize+"px "+t.fontFamily)*this.ratio),this.rawFontSize=t.fontSize,this._color&&this._color!=="main"?t.fill=v.E[this._color]:(t.fill=v.E[t.team],this._color="main"),this.callSuper("initialize",t.text,t),this.moveTo(t.layer),this.setControlsVisibility({tl:!1,tr:!1,bl:!1,br:!1,ml:!1,mt:!1,mr:!1,mb:!1,mtr:!1}),setTimeout(function(){s.set("width",$(t.text,t.fontSize+"px "+t.fontFamily)/s.ratio)},100)},toObject:function(){return{type:this.type,id:this.id,name:this.name,layer:this.layer,group:this.groupName,fontSize:this.fontSize*this.ratio/F,x:this.left*this.ratio,y:this.top*this.ratio+this.fontSize*2,text:this.text,color:this._color}},fromObject:function(t){var s=this;this._color=t.color,this.id=t.id,this.name=t.name,this.layer=t.layer,this.groupName=t.group,this.set("fontSize",t.fontSize/this.ratio*F),this.set("left",t.x/this.ratio),this.set("top",t.y/this.ratio-this.fontSize/this.ratio*2),this.text=t.text,this.set("width",$(t.text,t.fontSize+"px "+this.fontFamily)/this.ratio),this.rawFontSize=t.fontSize,setTimeout(function(){s.set("width",$(t.text,t.fontSize+"px "+s.fontFamily)/s.ratio)},100),this._color==="main"?this.set("fill",v.E[this.team]):this.set("fill",v.E[this._color]),this.moveTo(t.layer),this.set("fontFamily","ds-digitalnormal")},setRatio:function(t){this.set("width",this.width*this.ratio/t),this.set("left",this.left*this.ratio/t),this.set("top",this.top*this.ratio/t),this.set("fontSize",this.fontSize*this.ratio/t),this.set("width",$(this.text,this.rawFontSize+"px "+this.fontFamily)/t),this.ratio=t},resizeScale:function(){},setTeam:function(t){this.team=t,this._color==="main"&&this.set("fill",v.E[this.team])}}),r=Q.fabric.util.createClass(E,{type:"UiNumber",number:12345,initialize:function(t){t||(t={}),this.number=t.number||12345,t.text=this.number.toString(),this.callSuper("initialize",t)},toObject:function(){var t=this.callSuper("toObject");return t.number=this.number,delete t.text,t},fromObject:function(t){this.number=parseInt(t.number),t.text=this.number.toString(),this.callSuper("fromObject",t)}}),T=Q.fabric.util.createClass(E,{type:"UiFloat",float:12.345,initialize:function(t){t||(t={}),this.float=t.float||12.345,t.text=this.float.toString(),this.callSuper("initialize",t)},toObject:function(){var t=this.callSuper("toObject");return t.float=this.float,delete t.text,t},fromObject:function(t){this.float=parseFloat(t.float),t.text=this.float.toString(),this.callSuper("fromObject",t)}}),G={Rect:_,Line:U,Round:I,Ellipse:Y,Arc:X,Text:E,Number:r,Float:T};function g(o){var t={id:o.id,name:o.name,layer:o.layer,groupName:o.group,ratio:o.ratio,team:o.team},s=o.type.slice(2);return new G[s](t)}function p(){for(var o=[],t=0,s=Object.keys(G);t<s.length;t++){var d=s[t];o.push({key:"Insert-".concat(d),label:d})}return o}},83885:function(le,q,e){e.a(le,function(Q,v){return ze(this,null,function*(){try{var _=e(64599),U=e.n(_),Y=e(12444),I=e.n(Y),X=e(72004),F=e.n(X),$=e(73070),E=Q([$]);$=(E.then?(yield E)():E)[0];var r=function(){function T(G,g,p){I()(this,T),this.name=G,this.id=g,this.groups=[],this.errors=[],/^[a-zA-Z_]+\w?$/.test(this.name)||this.errors.push({level:"error",info:'Name of Frame "'.concat(this.name,'" does not compliant.')});var o={};for(var t in p){var s=p[t];s.group in o?o[s.group].push(s):o[s.group]=[s]}for(var d in o)this.groups.push(new $.Z(this.name,this.id,d,this.groups.length,o[d]))}return F()(T,[{key:"toSerialMsg",value:function(){var g=[],p=U()(this.groups),o;try{for(p.s();!(o=p.n()).done;){var t=o.value;g=g.concat(t.toSerialMsg())}}catch(s){p.e(s)}finally{p.f()}return console.log(g),g}},{key:"check",value:function(){var g=this.errors,p=U()(this.groups),o;try{for(p.s();!(o=p.n()).done;){var t=o.value;g=g.concat(t.check())}}catch(s){p.e(s)}finally{p.f()}return g}}]),T}();q.Z=r,v()}catch(T){v(T)}})})},10622:function(le,q,e){e.a(le,function(Q,v){return ze(this,null,function*(){try{var _=e(64599),U=e.n(_),Y=e(12444),I=e.n(Y),X=e(72004),F=e.n(X),$=e(5970),E=e(83885),r=Q([$,E]);[$,E]=r.then?(yield r)():r;var T=function(){function G(g){if(I()(this,G),this.frames=[],Object.keys(g).length===1)this.frames.push(new E.Z("g",0,g[Object.keys(g)[0]]));else for(var p in g)this.frames.push(new E.Z(p,this.frames.length,g[p]))}return F()(G,[{key:"toUiH",value:function(){return(0,$.LI)(this.frames)}},{key:"check",value:function(){var p=[],o=U()(this.frames),t;try{for(o.s();!(t=o.n()).done;){var s=t.value;p=p.concat(s.check())}}catch(d){o.e(d)}finally{o.f()}return p}},{key:"toSerialMsg",value:function(){var p={},o=U()(this.frames),t;try{for(o.s();!(t=o.n()).done;){var s=t.value;p[s.name]=s.toSerialMsg()}}catch(d){o.e(d)}finally{o.f()}return p}}]),G}();q.Z=T,v()}catch(G){v(G)}})})},73070:function(le,q,e){e.a(le,function(Q,v){return ze(this,null,function*(){try{var _=e(64599),U=e.n(_),Y=e(12444),I=e.n(Y),X=e(72004),F=e.n(X),$=e(66978),E=Q([$]);$=(E.then?(yield E)():E)[0];var r=function(){function T(G,g,p,o,t){I()(this,T),this.frame_name=G,this.frame_id=g,this.group_name=p,this.group_id=o,this.splits=[],this.errors=[];var s=0,d=new Set;/^[a-zA-Z_]+\w?$/.test(this.group_name)||this.errors.push({level:"error",info:'Name of Frame "'.concat(this.frame_name,'" Group "').concat(this.group_name,'" does not compliant.')});var x=U()(t),R;try{for(x.s();!(R=x.n()).done;){var u=R.value;/^[a-zA-Z_]+\w?$/.test(u.name)||this.errors.push({level:"error",info:'Name of Frame "'.concat(this.frame_name,'" Group "').concat(this.group_name,'" Object "').concat(u.name,'" does not compliant.')}),d.has(u.name)?this.errors.push({level:"error",info:'Name of Frame "'.concat(this.frame_name,'" Group "').concat(this.group_name,'" Object "').concat(u.name,'" is duplicate.')}):d.add(u.name),u.type==="UiText"&&(this.splits.push(new $.Z(this.frame_name,this.frame_id,this.group_name,this.group_id,this.splits.length,s,[u])),s+=1)}}catch(b){x.e(b)}finally{x.f()}for(var i=t.filter(function(b){return b.type!=="UiText"}),m=Math.ceil(i.length/7),M=0;M<m;M++)this.splits.push(new $.Z(this.frame_name,this.frame_id,this.group_name,this.group_id,this.splits.length,s,i.slice(M*7,(M+1)*7))),s+=7}return F()(T,[{key:"toSerialMsg",value:function(){var g=[],p=U()(this.splits),o;try{for(p.s();!(o=p.n()).done;){var t=o.value;g.push(t.toSerialMsg())}}catch(s){p.e(s)}finally{p.f()}return g}},{key:"check",value:function(){var g=this.errors,p=U()(this.splits),o;try{for(p.s();!(o=p.n()).done;){var t=o.value;g=g.concat(t.check())}}catch(s){p.e(s)}finally{p.f()}return g}}]),T}();q.Z=r,v()}catch(T){v(T)}})})},66978:function(le,q,e){e.a(le,function(Q,v){return ze(this,null,function*(){try{var _=e(97857),U=e.n(_),Y=e(64599),I=e.n(Y),X=e(12444),F=e.n(X),$=e(72004),E=e.n($),r=e(5970),T=e(52880),G=Q([r]);r=(G.then?(yield G)():G)[0];var g=function(){function p(o,t,s,d,x,R,u){var i=this;if(F()(this,p),this.frame_name=o,this.frame_id=t,this.group_name=s,this.group_id=d,this.split_id=x,this.start_id=R,this.objs=u,u[0].type==="UiText")this.toSplitC=function(){return(0,r.c0)(i.frame_name,i.frame_id,i.group_name,i.group_id,i.split_id,i.start_id,i.objs)};else{var m=7;u.length===1?m=1:u.length<=2?m=2:u.length<=5&&(m=5),this.toSplitC=function(){return(0,r.JP)(i.frame_name,i.frame_id,i.group_name,i.group_id,i.split_id,i.start_id,i.objs,m)}}this.toSplitH=function(){return(0,r.pj)(i.frame_name,i.group_name,i.split_id,i.objs)}}return E()(p,[{key:"toSerialMsg",value:function(){var t=[],s=I()(this.objs),d;try{for(s.s();!(d=s.n()).done;){var x=d.value,R=U()({},x);R.group="".concat(this.frame_name,"-").concat(this.split_id),t.push(R)}}catch(u){s.e(u)}finally{s.f()}return(0,T.h)(t)}},{key:"check",value:function(){return this.objs.length!==1&&this.objs.length!==2&&this.objs.length!==5&&this.objs.length!==7?[{level:"warning",info:'Length of Frame "'.concat(this.frame_name,'" Group "').concat(this.group_name,'" Split "').concat(this.split_id,'" is not 1 or 2 or 5 or 7.')}]:[]}}]),p}();q.Z=g,v()}catch(p){v(p)}})})},5970:function(le,q,e){e.a(le,function(Q,v){return ze(this,null,function*(){try{let u=function(S,O,N){for(var D="",ee=0;ee<N;ee++)D=D+`
#include "ui_`.concat(S,"_").concat(O,"_").concat(ee,'.h"');for(var P=`
#define ui_init_`.concat(S,"_").concat(O,`() \\
`),J=`
#define ui_update_`.concat(S,"_").concat(O,`() \\
`),K=`
#define ui_remove_`.concat(S,"_").concat(O,`() \\
`),c=0;c<N;c++)P+="_ui_init_".concat(S,"_").concat(O,"_").concat(c,`(); \\
`),J+="_ui_update_".concat(S,"_").concat(O,"_").concat(c,`(); \\
`),K+="_ui_remove_".concat(S,"_").concat(O,"_").concat(c,`(); \\
`);return D+="".concat(r).concat(P.slice(0,-4)).concat(r).concat(J.slice(0,-4)).concat(r).concat(K.slice(0,-4),`
    `),"".concat(D,`
`)},i=function(S,O){var N="",D=E()(O),ee;try{for(D.s();!(ee=D.n()).done;){var P=ee.value;N+=u(S,P.group_name,P.splits.length)}}catch(J){D.e(J)}finally{D.f()}return N},m=function(S){var O="//".concat(r,"// Created by RM UI Designer").concat(r,"//").concat(r).concat(r,"#ifndef UI_H").concat(r,"#define UI_H").concat(r,"#ifdef __cplusplus").concat(r,'extern "C" {').concat(r,"#endif").concat(r).concat(r,'#include "ui_interface.h"').concat(r),N=E()(S),D;try{for(N.s();!(D=N.n()).done;){var ee=D.value;O+=i(ee.name,ee.groups)}}catch(P){N.e(P)}finally{N.f()}return"".concat(O).concat(r).concat(r,"#ifdef __cplusplus").concat(r,"}").concat(r,"#endif").concat(r).concat(r,`#endif //UI_H
`)},M=function(S,O,N,D){var ee="//".concat(r,"// Created by RM UI Designer").concat(r,"//").concat(r).concat(r,"#ifndef UI_").concat(S,"_").concat(O,"_").concat(N,"_H").concat(r,"#define UI_").concat(S,"_").concat(O,"_").concat(N,"_H").concat(r).concat(r,'#include "ui_interface.h"').concat(r).concat(r),P=E()(D),J;try{for(P.s();!(J=P.n()).done;){var K=J.value;ee+="extern ui_interface_".concat(T[K.type],"_t *ui_").concat(S,"_").concat(O,"_").concat(K.name,`;
`)}}catch(c){P.e(c)}finally{P.f()}return ee+="".concat(r,"void _ui_init_").concat(S,"_").concat(O,"_").concat(N,"();").concat(r,"void _ui_update_").concat(S,"_").concat(O,"_").concat(N,"();").concat(r,"void _ui_remove_").concat(S,"_").concat(O,"_").concat(N,"();").concat(r).concat(r,"#endif //UI_").concat(S,"_").concat(O,"_").concat(N,"_H").concat(r),ee},b=function(S,O,N){var D=F()({},N),ee=G[D.type],P=D.name;D.type==="UiFloat"&&(D.number=Math.round(D.float*1e3),delete D.float),D.type==="UiRect"&&(D.x2=D.x+D.width,D.y2=D.y+D.height,delete D.width,delete D.height),(D.type==="UiFloat"||D.type==="UiNumber")&&(D.lineWidth=Math.round(D.fontSize/10)),D.color=p[D.color],delete D.type,delete D.id,delete D.name,delete D.group;var J="ui_".concat(S,"_").concat(O,"_").concat(P),K="    ".concat(J,"->figure_tpye = ").concat(ee,`;
`);for(var c in D){var oe=D[c];typeof oe=="number"&&(oe=Math.round(oe)),K+="    ".concat(J,"->").concat(g[c]," = ").concat(oe,`;
`)}return"".concat(K,`
`)},C=function(S,O,N,D,ee,P,J,K){for(var c="".concat(S,"_").concat(N,"_").concat(ee),oe="//".concat(r,"// Created by RM UI Designer").concat(r,"//").concat(r).concat(r,'#include "ui_').concat(c,'.h"').concat(r).concat(r,"#define FRAME_ID ").concat(O).concat(r,"#define GROUP_ID ").concat(D).concat(r,"#define START_ID ").concat(P).concat(r,"#define OBJ_NUM ").concat(J.length).concat(r,"#define FRAME_OBJ_NUM ").concat(K).concat(r).concat(r,"CAT(ui_, CAT(FRAME_OBJ_NUM, _frame_t)) ui_").concat(c,";").concat(r),xe=0;xe<J.length;xe++){var ue=T[J[xe].type],pe=J[xe].name;oe+="ui_interface_".concat(ue,"_t *ui_").concat(S,"_").concat(N,"_").concat(pe," = ")+"(ui_interface_".concat(ue,"_t *)&(ui_").concat(c,".data[").concat(xe,`]);
`)}oe+="".concat(r,"void _ui_init_").concat(c,"() {").concat(r,"    for (int i = 0; i < OBJ_NUM; i++) {").concat(r,"        ui_").concat(c,".data[i].figure_name[0] = FRAME_ID;").concat(r,"        ui_").concat(c,".data[i].figure_name[1] = GROUP_ID;").concat(r,"        ui_").concat(c,".data[i].figure_name[2] = i + START_ID;").concat(r,"        ui_").concat(c,".data[i].operate_tpyel = 1;").concat(r,"    }").concat(r,"    for (int i = OBJ_NUM; i < FRAME_OBJ_NUM; i++) {").concat(r,"        ui_").concat(c,".data[i].operate_tpyel = 0;").concat(r,"    }").concat(r).concat(r);var ne=E()(J),re;try{for(ne.s();!(re=ne.n()).done;){var V=re.value;oe+=b(S,N,V)}}catch(he){ne.e(he)}finally{ne.f()}return oe+="".concat(r,"    CAT(ui_proc_, CAT(FRAME_OBJ_NUM, _frame))(&ui_").concat(c,");").concat(r,"    SEND_MESSAGE((uint8_t *) &ui_").concat(c,", sizeof(ui_").concat(c,"));").concat(r,"}").concat(r).concat(r,"void _ui_update_").concat(c,"() {").concat(r,"    for (int i = 0; i < OBJ_NUM; i++) {").concat(r,"        ui_").concat(c,".data[i].operate_tpyel = 2;").concat(r,"    }").concat(r).concat(r,"    CAT(ui_proc_, CAT(FRAME_OBJ_NUM, _frame))(&ui_").concat(c,");").concat(r,"    SEND_MESSAGE((uint8_t *) &ui_").concat(c,", sizeof(ui_").concat(c,"));").concat(r,"}").concat(r).concat(r,"void _ui_remove_").concat(c,"() {").concat(r,"    for (int i = 0; i < OBJ_NUM; i++) {").concat(r,"        ui_").concat(c,".data[i].operate_tpyel = 3;").concat(r,"    }").concat(r).concat(r,"    CAT(ui_proc_, CAT(FRAME_OBJ_NUM, _frame))(&ui_").concat(c,");").concat(r,"    SEND_MESSAGE((uint8_t *) &ui_").concat(c,", sizeof(ui_").concat(c,"));").concat(r,"}").concat(r),oe},h=function(S,O,N,D,ee,P,J){var K="".concat(S,"_").concat(N,"_").concat(ee),c=F()({},J[0]),oe=c.name,xe=c.text;c.color=p[c.color],c.strLength=xe.length,c.lineWidth=Math.round(c.fontSize/10),delete c.text,delete c.type,delete c.id,delete c.name,delete c.group;var ue="//".concat(r,"// Created by RM UI Designer").concat(r,"//").concat(r).concat(r,'#include "ui_').concat(K,'.h"').concat(r,'#include "string.h"').concat(r).concat(r,"#define FRAME_ID ").concat(O).concat(r,"#define GROUP_ID ").concat(D).concat(r,"#define START_ID ").concat(P).concat(r).concat(r,"ui_string_frame_t ui_").concat(K,";").concat(r).concat(r,"ui_interface_string_t* ui_").concat(S,"_").concat(N,"_").concat(oe," = &ui_").concat(K,".option;").concat(r).concat(r,"void _ui_init_").concat(K,"() {").concat(r,"    ui_").concat(K,".option.figure_name[0] = FRAME_ID;").concat(r,"    ui_").concat(K,".option.figure_name[1] = GROUP_ID;").concat(r,"    ui_").concat(K,".option.figure_name[2] = START_ID;").concat(r,"    ui_").concat(K,".option.operate_tpyel = 1;").concat(r);ue+="    ui_".concat(K,".option.figure_tpye = ").concat(G.UiText,`;
`);for(var pe in c){var ne=c[pe];typeof ne=="number"&&(ne=Math.round(ne)),ue+="    ui_".concat(K,".option.").concat(g[pe]," = ").concat(ne,`;
`)}return ue+="    strcpy(ui_".concat(S,"_").concat(N,"_").concat(oe,'->string, "').concat(xe,'");').concat(r).concat(r,"    ui_proc_string_frame(&ui_").concat(K,");").concat(r,"    SEND_MESSAGE((uint8_t *) &ui_").concat(K,", sizeof(ui_").concat(K,"));").concat(r,"}").concat(r).concat(r,"void _ui_update_").concat(K,"() {").concat(r,"    ui_").concat(K,".option.operate_tpyel = 2;").concat(r).concat(r,"    ui_proc_string_frame(&ui_").concat(K,");").concat(r,"    SEND_MESSAGE((uint8_t *) &ui_").concat(K,", sizeof(ui_").concat(K,"));").concat(r,"}").concat(r).concat(r,"void _ui_remove_").concat(K,"() {").concat(r,"    ui_").concat(K,".option.operate_tpyel = 3;").concat(r).concat(r,"    ui_proc_string_frame(&ui_").concat(K,");").concat(r,"    SEND_MESSAGE((uint8_t *) &ui_").concat(K,", sizeof(ui_").concat(K,"));").concat(r,"}"),ue},A=function(){return j.apply(this,arguments)},j=function(){return j=I()(U()().mark(function S(){return U()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.abrupt("return",{ui_interface:{h:d,c:x},ui_types:{h:R}});case 1:case"end":return N.stop()}},S)})),j.apply(this,arguments)};e.d(q,{HC:function(){return A},JP:function(){return C},LI:function(){return m},c0:function(){return h},pj:function(){return M}});var _=e(15009),U=e.n(_),Y=e(99289),I=e.n(Y),X=e(97857),F=e.n(X),$=e(64599),E=e.n($),r=`
`,T={UiArc:"arc",UiRound:"round",UiRect:"rect",UiLine:"line",UiEllipse:"ellipse",UiText:"string",UiNumber:"number",UiFloat:"number"},G={UiLine:0,UiRect:1,UiRound:2,UiEllipse:3,UiArc:4,UiFloat:5,UiNumber:6,UiText:7},g={lineWidth:"width",layer:"layer",x:"start_x",y:"start_y",x2:"end_x",y2:"end_y",rx:"rx",ry:"ry",r:"r",startAngle:"start_angle",endAngle:"end_angle",number:"number",color:"color",fontSize:"font_size",strLength:"str_length"},p={main:0,yellow:1,green:2,orange:3,purple:4,pink:5,cyan:6,black:7,white:8},o=e(75112),t=e(8938),s=e(33562),d=yield(yield fetch(o)).text(),x=yield(yield fetch(t)).text(),R=yield(yield fetch(s)).text();v()}catch(u){v(u)}})},1)},44740:function(le,q,e){e.d(q,{Z:function(){return M}});var Q=e(64599),v=e.n(Q),_=e(15009),U=e.n(_),Y=e(99289),I=e.n(Y),X=e(12444),F=e.n(X),$=e(72004),E=e.n($),r=e(9783),T=e.n(r),G=e(19632),g=e.n(G),p=e(85378),o=function(){function b(){F()(this,b),T()(this,"messages",[]),T()(this,"enabled",!1),T()(this,"log",[]),T()(this,"rx",0)}return E()(b,[{key:"warn",value:function(h){this.enabled&&(this.messages.push({level:"warn",message:h,time:new Date}),console.warn(h)),this.messages.length>100&&(this.messages=this.messages.slice(-100))}},{key:"error",value:function(h){this.enabled&&(this.messages.push({level:"error",message:h,time:new Date}),console.error(h)),this.messages.length>100&&(this.messages=this.messages.slice(-100))}},{key:"clear",value:function(){this.messages=[]}},{key:"logHistory",value:function(h){this.log.push(Uint8Array.from(g()(h))),this.rx+=h.length,this.log.length>100&&this.log.shift()}},{key:"get",value:function(){return this.messages}},{key:"getHistory",value:function(){return{log:g()(this.log),rx:this.rx}}}]),b}(),t=new o,s=t,d=[8,21,36,81,111,51],x=function(){function b(){F()(this,b),T()(this,"buffer",void 0),this.buffer=new Uint8Array(0)}return E()(b,[{key:"transform",value:function(h,A){for(this.buffer=Uint8Array.from([].concat(g()(this.buffer),g()(h))),s.logHistory(h);this.buffer.length>7;){if(this.buffer[0]!==165){this.buffer=this.buffer.subarray(1);continue}if(this.buffer.length<7)break;var j=this.buffer[1]|this.buffer[2]<<8,S=this.buffer[3],O=this.buffer[4],N=this.buffer[5]|this.buffer[6]<<8,D=this.buffer.subarray(0,4);if((0,p.d)(D)!==O){this.buffer=this.buffer.subarray(1),s.warn("crc8 error, calc: 0x".concat((0,p.d)(D).toString(16),", msg: 0x").concat(O.toString(16)));continue}if(N!==769){this.buffer=this.buffer.subarray(1),s.warn("cmd_id 0x".concat(N.toString(16)," not match"));continue}if(!d.includes(j)){this.buffer=this.buffer.subarray(1),s.warn("length error, length: ".concat(j));continue}if(this.buffer.length<6+j+2)break;var ee=this.buffer.subarray(7,7+j),P=this.buffer[7+j]|this.buffer[8+j]<<8;if((0,p.I)(this.buffer.subarray(0,7+j))!==P){this.buffer=this.buffer.subarray(1),s.error("crc16 error, calc: 0x".concat((0,p.I)(this.buffer.subarray(0,7+j)).toString(16),", msg: 0x").concat(P.toString(16)));continue}A.enqueue(ee),this.buffer=this.buffer.subarray(7+j+2)}}}]),b}(),R=x,u=e(73676),i=e(28348),m=function(){function b(C,h){F()(this,b),T()(this,"options",{baudRate:115200,dataBits:8,stopBits:1,flowControl:"none",parity:"none"}),this.onEvent=C,this.onError=h,this.reader=null,this.transformer=new TransformStream(new R)}return E()(b,[{key:"connect",value:function(){var C=I()(U()().mark(function A(){return U()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if("serial"in navigator){S.next=3;break}return i.yw.error("Web Serial API not supported."),S.abrupt("return");case 3:return S.next=5,navigator.serial.requestPort();case 5:return this.port=S.sent,S.next=8,this.port.open(this.options);case 8:this.readableStreamClosed=this.port.readable.pipeTo(this.transformer.writable),this.reader=this.transformer.readable.getReader(),s.enabled=!0,s.clear(),this.readLoop();case 13:case"end":return S.stop()}},A,this)}));function h(){return C.apply(this,arguments)}return h}()},{key:"stop",value:function(){var C=I()(U()().mark(function A(){var j,S,O;return U()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return j=new TextEncoderStream,S=j.writable.getWriter(),O=j.readable.pipeTo(this.port.writable),this.reader.cancel(),D.next=6,this.readableStreamClosed.catch(function(){});case 6:return S.close(),D.next=9,O;case 9:return D.next=11,this.port.close();case 11:this.reader=null,this.transformer=new TransformStream(new R),s.enabled=!1;case 14:case"end":return D.stop()}},A,this)}));function h(){return C.apply(this,arguments)}return h}()},{key:"readLoop",value:function(){var C=I()(U()().mark(function A(){var j,S,O,N,D,ee,P,J;return U()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:c.prev=0;case 1:return c.next=4,this.reader.read();case 4:if(j=c.sent,S=j.value,O=j.done,!O){c.next=10;break}return this.reader.releaseLock(),c.abrupt("break",21);case 10:if(N=(0,u.EY)(S),N.sender===i.eq){c.next=14;break}return s.error("Sender ".concat(N.sender," not match self ").concat(i.eq)),c.abrupt("continue",1);case 14:if(N.receiver===i.eq+256){c.next=17;break}return s.error("Receiver ".concat(N.receiver," not match self ").concat(i.eq)),c.abrupt("continue",1);case 17:if(D=this===null||this===void 0?void 0:this.onEvent(N),D){ee=v()(D);try{for(ee.s();!(P=ee.n()).done;)J=P.value,J[0]==="W"?s.warn(J.slice(3)):J[0]==="E"&&s.error(J.slice(3))}catch(oe){ee.e(oe)}finally{ee.f()}}c.next=1;break;case 21:c.next=37;break;case 23:return c.prev=23,c.t0=c.catch(0),c.prev=25,c.next=28,this.stop();case 28:c.next=32;break;case 30:c.prev=30,c.t1=c.catch(25);case 32:this.reader=null,this.transformer=new TransformStream(new R),s.enabled=!1,s.clear(),this.onError(c.t0);case 37:case"end":return c.stop()}},A,this,[[0,23],[25,30]])}));function h(){return C.apply(this,arguments)}return h}()},{key:"getLog",value:function(){return s.get()}},{key:"getHistory",value:function(){return s.getHistory()}}]),b}(),M=m},56134:function(le,q,e){e.a(le,function(Q,v){return ze(this,null,function*(){try{var _=e(64599),U=e.n(_),Y=e(15009),I=e.n(Y),X=e(99289),F=e.n(X),$=e(12444),E=e.n($),r=e(72004),T=e.n(r),G=e(9783),g=e.n(G),p=e(10622),o=e(52880),t=e(28348),s=Q([p]);p=(s.then?(yield s)():s)[0];var d=function(){function x(){E()(this,x),g()(this,"options",{baudRate:115200,dataBits:8,stopBits:1,flowControl:"none",parity:"none"}),g()(this,"writer",null)}return T()(x,[{key:"connect",value:function(){var R=F()(I()().mark(function i(){return I()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if("serial"in navigator){M.next=3;break}return t.yw.error("Web Serial API not supported."),M.abrupt("return");case 3:return M.next=5,navigator.serial.requestPort();case 5:return this.port=M.sent,M.next=8,this.port.open(this.options);case 8:this.writer=this.port.writable.getWriter();case 9:case"end":return M.stop()}},i,this)}));function u(){return R.apply(this,arguments)}return u}()},{key:"stop",value:function(){var R=F()(I()().mark(function i(){return I()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,this.writer.releaseLock();case 2:return this.writer=null,M.next=5,this.port.close();case 5:case"end":return M.stop()}},i,this)}));function u(){return R.apply(this,arguments)}return u}()},{key:"write",value:function(){var R=F()(I()().mark(function i(m){var M=this,b,C,h,A,j,S,O;return I()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(this.writer){D.next=3;break}return t.yw.error("Serial port is not open."),D.abrupt("return");case 3:b=0,setTimeout(function(){M.writer.write((0,o.r)())},b),b+=50,C=new p.Z(m.data),h=C.toSerialMsg(),A=h[m.selected],console.log(m),j=U()(A),D.prev=11,O=I()().mark(function ee(){var P;return I()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:P=S.value,setTimeout(function(){M.writer.write(P)},b),b+=50;case 3:case"end":return K.stop()}},ee)}),j.s();case 14:if((S=j.n()).done){D.next=18;break}return D.delegateYield(O(),"t0",16);case 16:D.next=14;break;case 18:D.next=23;break;case 20:D.prev=20,D.t1=D.catch(11),j.e(D.t1);case 23:return D.prev=23,j.f(),D.finish(23);case 26:case"end":return D.stop()}},i,this,[[11,20,23,26]])}));function u(i){return R.apply(this,arguments)}return u}()}]),x}();q.Z=d,v()}catch(x){v(x)}})})},30789:function(le,q,e){e.d(q,{E:function(){return E},E4:function(){return T},GM:function(){return d},Gj:function(){return G},UP:function(){return o},cT:function(){return R},jK:function(){return u},lZ:function(){return p},q7:function(){return g}});var Q=e(15009),v=e.n(Q),_=e(99289),U=e.n(_),Y=e(17990),I=e(55733),X=e.n(I),F=document.createElement("a"),$=document.createElement("input");$.type="file";var E={yellow:"rgb(255, 238, 70)",green:"rgb(168, 255, 45)",orange:"rgb(255, 163, 8)",purple:"rgb(240, 41, 246)",pink:"rgb(255, 100, 142)",cyan:"rgb(69, 255, 242)",white:"#fff",black:"#000",blue:"rgb(47, 168, 223)",red:"rgb(255, 69, 70)"};function r(i){var m=i.split(".").pop();return{name:m+" file",extensions:[m]}}function T(i,m){if(o())U()(v()().mark(function C(){var h;return v()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,Y.WZ.save({filters:[r(m)],defaultPath:m});case 2:if(h=j.sent,!(h!==null&&h.length>0)){j.next=6;break}return j.next=6,Y.fs.writeTextFile(h,i);case 6:case"end":return j.stop()}},C)}))();else{var M=new Blob([i],{type:"text/plain;charset=utf-8"}),b=URL.createObjectURL(M);F.href=b,F.download=m,F.click(),URL.revokeObjectURL(b)}}function G(i,m){if(o())U()(v()().mark(function b(){var C,h;return v()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,Y.WZ.save({filters:[r(m)],defaultPath:m});case 2:if(C=j.sent,!(C!==null&&C.length>0)){j.next=9;break}return j.next=6,i.arrayBuffer();case 6:return h=j.sent,j.next=9,Y.fs.writeBinaryFile(C,h);case 9:case"end":return j.stop()}},b)}))();else{var M=URL.createObjectURL(i);F.href=M,F.download=m,F.click(),URL.revokeObjectURL(M)}}function g(i,m,M){var b={version:2,data:i,selected:M},C=JSON.stringify(b);T(C,m)}function p(i){var m=null;return window.createObjcectURL!==void 0?m=window.createOjcectURL(i):window.URL!==void 0?m=window.URL.createObjectURL(i):window.webkitURL!==void 0&&(m=window.webkitURL.createObjectURL(i)),m}function o(){return window!==void 0&&window.__TAURI__!==void 0}function t(i){return s.apply(this,arguments)}function s(){return s=U()(v()().mark(function i(m){var M;return v()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return M=new(X()),m.forEach(function(h){M.file(h.fileName,h.content)}),C.next=4,M.generateAsync({type:"blob"});case 4:return C.abrupt("return",C.sent);case 5:case"end":return C.stop()}},i)})),s.apply(this,arguments)}function d(i){return x.apply(this,arguments)}function x(){return x=U()(v()().mark(function i(m){var M,b,C;return v()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:M=[];for(b in m)for(C in m[b])M.push({fileName:"".concat(b,".").concat(C),content:m[b][C]});return A.next=4,t(M);case 4:return A.abrupt("return",A.sent);case 5:case"end":return A.stop()}},i)})),x.apply(this,arguments)}function R(i){return new Promise(function(m,M){if(o()){var b=[i.slice(1)],C="".concat(b," file");i==="image/*"&&(b=["png","jpg","jpeg","gif","webp","bmp","ico","svg"],C="image"),U()(v()().mark(function h(){var A,j,S,O,N;return v()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.next=2,Y.WZ.open({multiple:!1,directory:!1,filters:[{name:C,extensions:b}]});case 2:if(A=ee.sent,!(A!==null&&A.length>0)){ee.next=16;break}return j=A.replace(/\\/g,"/"),S=j.split("/").pop(),ee.t0=Blob,ee.next=9,Y.fs.readBinaryFile(A);case 9:ee.t1=ee.sent,ee.t2=[ee.t1],O=new ee.t0(ee.t2),N=new File([O],S),m(N),ee.next=17;break;case 16:M();case 17:case"end":return ee.stop()}},h)}))()}else $.accept=i,$.value="",$.onchange=function(){if($.files.length>0){var h=$.files[0];m(h)}else M(new Error("No file selected"))},$.click()})}function u(i){return document.getElementById("content-in").contains(i)||i.getAttribute("contentEditable")==="true"?!0:i.tagName==="INPUT"||i.tagName==="TEXTAREA"}},54030:function(le,q,e){var Q=e(67294),v=e(28348),_=e(85893);function U(Y){return(0,v.ZP)(),(0,_.jsx)("div",{})}q.Z=U},7427:function(le,q,e){var Q=e(12444),v=e.n(Q),_=e(72004),U=e.n(_),Y=e(31996),I=e.n(Y),X=e(26037),F=e.n(X),$=e(67294),E=e(22997),r=e(2487),T=e(42075),G=e(78977),g=e(97309),p=e(85893),o=function(t){I()(d,t);var s=F()(d);function d(){return v()(this,d),s.apply(this,arguments)}return U()(d,[{key:"render",value:function(){var R=this.props.errors.filter(function(m){return m.level==="warning"}),u=this.props.errors.filter(function(m){return m.level==="error"}),i=(0,p.jsx)(E.ZP,{status:"success",title:"Check Passed!",subTitle:"0 error, 0 warning!",style:{marginTop:"50px"}});return u.length+R.length>0&&(i=(0,p.jsxs)("div",{style:{color:"var(--ant-color-text)",height:"100%"},children:[(0,p.jsxs)("p",{children:["Found ",u.length," errors, ",R.length," warnings."]}),(0,p.jsx)("div",{style:{paddingBottom:10},className:"card-body",children:(0,p.jsx)(r.Z,{bordered:!0,dataSource:this.props.errors,renderItem:function(M){return(0,p.jsx)(r.Z.Item,{children:(0,p.jsxs)(T.Z,{size:"middle",children:[M.level==="warning"?(0,p.jsx)(G.Z,{}):(0,p.jsx)(g.Z,{}),M.info]})})}})})]})),(0,p.jsxs)("div",{style:{width:"100%",height:"calc(100% - 50px)"},children:[(0,p.jsx)("h3",{style:{color:"var(--ant-color-text)"},children:"Check Data"}),i]})}}]),d}($.Component);q.Z=o},56296:function(le,q,e){e.a(le,function(Q,v){return ze(this,null,function*(){try{let c=function(xe){var ue="";return xe.h&&(ue+=".h"),xe.h&&xe.c&&(ue+=" and "),xe.c&&(ue+=".c"),ue},oe=function(){var xe=document.querySelector(".rmui"),ue=getComputedStyle(xe),pe=ue.getPropertyValue("--ant-color-text-base");return pe==="#fff"};var _=e(19632),U=e.n(_),Y=e(15009),I=e.n(Y),X=e(64599),F=e.n(X),$=e(97857),E=e.n($),r=e(99289),T=e.n(r),G=e(12444),g=e.n(G),p=e(72004),o=e.n(p),t=e(25098),s=e.n(t),d=e(31996),x=e.n(d),R=e(26037),u=e.n(R),i=e(9783),m=e.n(i),M=e(67294),b=e(69615),C=e(42075),h=e(28036),A=e(42477),j=e(42308),S=e(28348),O=e(24389),N=e(51376),D=e(30789),ee=e(5970),P=e(85893),J=Q([ee]);ee=(J.then?(yield J)():J)[0];var K=function(xe){x()(pe,xe);var ue=u()(pe);function pe(){var ne;g()(this,pe);for(var re=arguments.length,V=new Array(re),he=0;he<re;he++)V[he]=arguments[he];return ne=ue.call.apply(ue,[this].concat(V)),m()(s()(ne),"state",{preview:null,fileName:""}),m()(s()(ne),"checked",[]),ne}return o()(pe,[{key:"review",value:function(re,V){this.setState({preview:this.props.code[re][V],fileName:"".concat(re,".").concat(V)})}},{key:"download",value:function(re,V){(0,D.E4)(this.props.code[re][V],"".concat(re,".").concat(V)),console.log(this.props.code[re][V])}},{key:"downloadChecked",value:function(){var ne=T()(I()().mark(function V(){var he,de,fe,ve,k;return I()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(this.checked.length!==0){me.next=3;break}return S.yw.error("Please select at least one file."),me.abrupt("return");case 3:return he={},me.t0=E(),me.t1=E()({},this.props.code),me.next=8,(0,ee.HC)();case 8:me.t2=me.sent,de=(0,me.t0)(me.t1,me.t2),fe=F()(this.checked);try{for(fe.s();!(ve=fe.n()).done;)k=ve.value,he[k]=de[k]}catch(Ie){fe.e(Ie)}finally{fe.f()}(0,D.GM)(he).then(function(Ie){(0,D.Gj)(Ie,"codes.zip")});case 13:case"end":return me.stop()}},V,this)}));function re(){return ne.apply(this,arguments)}return re}()},{key:"render",value:function(){var re=this,V=[{file:"ui base .h and .c",key:"_base"}];for(var he in this.props.code)V.push({file:"".concat(he," ").concat(c(this.props.code[he])),key:he,h:this.props.code[he].h!==void 0,c:this.props.code[he].c!==void 0});return(0,P.jsxs)("div",{className:"full",style:{overflow:"hidden"},children:[(0,P.jsx)("h3",{style:{color:"var(--ant-color-text)",marginBottom:20},children:"Download Data"}),(0,P.jsx)("div",{style:{paddingBottom:36},className:"card-body",children:(0,P.jsx)(b.Z,{columns:[{title:"File",dataIndex:"file",key:"file"},{title:"Preview",dataIndex:"key",key:"preview",render:function(fe,ve){return(0,P.jsxs)(C.Z,{children:[ve.h&&(0,P.jsx)(h.ZP,{type:"link",onClick:function(){re.review(fe,"h")},children:"Preview .h"}),ve.c&&(0,P.jsx)(h.ZP,{type:"link",onClick:function(){re.review(fe,"c")},children:"Preview .c"})]})}},{title:"Download",dataIndex:"key",key:"download",render:function(fe,ve){return fe!=="_base"?(0,P.jsxs)(C.Z,{children:[ve.h&&(0,P.jsx)(h.ZP,{type:"link",onClick:function(){re.download(fe,"h")},children:"Download .h"}),ve.c&&(0,P.jsx)(h.ZP,{type:"link",onClick:function(){re.download(fe,"c")},children:"Download .c"})]}):(0,P.jsx)(h.ZP,{type:"link",onClick:T()(I()().mark(function k(){var be,me;return I()().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.next=2,(0,ee.HC)();case 2:return be=ge.sent,ge.next=5,(0,D.GM)(be);case 5:me=ge.sent,(0,D.Gj)(me,"ui_base.zip");case 7:case"end":return ge.stop()}},k)})),children:"Download .zip"})}}],dataSource:V,rowSelection:{type:"checkbox",onChange:function(fe){var ve=U()(fe);ve.includes("_base")&&(ve=ve.filter(function(k){return k!=="_base"}),ve.push("ui_types"),ve.push("ui_interface")),re.checked=ve},getCheckboxProps:function(fe){return{name:fe.key}}},pagination:!1})}),(0,P.jsx)(A.Z,{onClose:function(){return re.setState({preview:null})},open:this.state.preview!==null,title:this.state.fileName,size:"large",getContainer:document.getElementById("content-in"),rootStyle:{inset:"25px 0 0 0"},children:(0,P.jsx)("div",{style:{height:"100%",overflow:"auto"},children:(0,P.jsx)(j.ZP,{value:this.state.preview||"",theme:oe()?O.ub:O.tR,extensions:[(0,N.N)()],onContextMenu:function(fe){fe.stopPropagation()}})})})]})}}]),pe}(M.Component);q.Z=K,v()}catch(c){v(c)}})})},22312:function(le,q,e){e.a(le,function(Q,v){return ze(this,null,function*(){try{var _=e(64599),U=e.n(_),Y=e(12444),I=e.n(Y),X=e(72004),F=e.n(X),$=e(25098),E=e.n($),r=e(31996),T=e.n(r),G=e(26037),g=e.n(G),p=e(9783),o=e.n(p),t=e(67294),s=e(28036),d=e(42477),x=e(7427),R=e(56296),u=e(10622),i=e(85893),m=Q([R,u]);[R,u]=m.then?(yield m)():m;var M=function(b){T()(h,b);var C=g()(h);function h(){var A;I()(this,h);for(var j=arguments.length,S=new Array(j),O=0;O<j;O++)S[O]=arguments[O];return A=C.call.apply(C,[this].concat(S)),o()(E()(A),"state",{show:!1,step:"check"}),o()(E()(A),"downloadRef",(0,t.createRef)()),o()(E()(A),"data",{}),o()(E()(A),"errors",[]),A}return F()(h,[{key:"gen",value:function(j){this.helper=new u.Z(j),this.data=j,this.code={ui:{h:this.helper.toUiH()}};var S=U()(this.helper.frames),O;try{for(S.s();!(O=S.n()).done;){var N=O.value,D=U()(N.groups),ee;try{for(D.s();!(ee=D.n()).done;){var P=ee.value,J=U()(P.splits),K;try{for(J.s();!(K=J.n()).done;){var c=K.value;this.code["ui_".concat(N.name,"_").concat(P.group_name,"_").concat(c.split_id)]={c:c.toSplitC(),h:c.toSplitH()}}}catch(oe){J.e(oe)}finally{J.f()}}}catch(oe){D.e(oe)}finally{D.f()}}}catch(oe){S.e(oe)}finally{S.f()}this.errors=this.helper.check(),this.setState({show:!0,step:"check"})}},{key:"onClose",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var j=this,S=(0,i.jsx)(s.ZP,{type:"primary",onClick:function(){return j.setState({step:"generate"})},disabled:this.errors.filter(function(N){return N.level==="error"}).length>0,children:"Generate"}),O=(0,i.jsx)(s.ZP,{type:"primary",onClick:function(){var D;return(D=j.downloadRef)===null||D===void 0||(D=D.current)===null||D===void 0?void 0:D.downloadChecked()},children:"Download"});return(0,i.jsx)("div",{children:(0,i.jsx)(d.Z,{title:"C Code Generator",placement:"right",onClose:function(){return j.onClose()},open:this.state.show,size:"large",getContainer:document.getElementById("content-in"),rootStyle:{inset:"25px 0 0 0"},style:{borderTop:"3px var(--ant-line-type) var(--ant-color-split)"},footer:(0,i.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end",padding:5},children:this.state.step==="check"?S:O}),children:this.state.step==="check"?(0,i.jsx)(x.Z,{errors:this.errors}):(0,i.jsx)(R.Z,{code:this.code,ref:this.downloadRef})})})}}]),h}(t.Component);q.Z=M,v()}catch(b){v(b)}})})},54433:function(le,q,e){var Q=e(12444),v=e.n(Q),_=e(72004),U=e.n(_),Y=e(31996),I=e.n(Y),X=e(26037),F=e.n(X),$=e(67294),E=e(86250),r=e(18299),T=e(85893),G=function(g){I()(o,g);var p=F()(o);function o(){return v()(this,o),p.apply(this,arguments)}return U()(o,[{key:"render",value:function(){return(0,T.jsxs)(E.Z,{style:{width:"100%"},justify:"space-between",children:[this.props.children,(0,T.jsx)("div",{children:this.props.checked&&(0,T.jsx)(r.Z,{})})]})}}]),o}($.Component);q.Z=G},58377:function(le,q,e){e.a(le,function(Q,v){return ze(this,null,function*(){try{var _=e(15009),U=e.n(_),Y=e(99289),I=e.n(Y),X=e(64599),F=e.n(X),$=e(12444),E=e.n($),r=e(72004),T=e.n(r),G=e(25098),g=e.n(G),p=e(31996),o=e.n(p),t=e(26037),s=e.n(t),d=e(9783),x=e.n(d),R=e(67294),u=e(28036),i=e(86250),m=e(83159),M=e(40411),b=e(8791),C=e(28100),h=e(1944),A=e(39104),j=e(37388),S=e(73475),O=e(16165),N=e(48268),D=e(62388),ee=e(3213),P=e(54349),J=e(13799),K=e(82843),c=e(23481),oe=e(79476),xe=e(61024),ue=e(54433),pe=e(28348),ne=e(73344),re=e(553),V=e(30789),he=e(22312),de=e(44740),fe=e(56134),ve=e(37932),k=e(85893),be=Q([he,fe]);[he,fe]=be.then?(yield be)():be;var me=[{key:"File-new",label:"New"},{key:"File-open",label:"Open"},{key:"File-save",label:"Save"},{key:"File-saveAs",label:"Save as"},{key:"File-autoSave",label:"Auto Save"},{type:"divider"},{key:"File-generate",label:"Generate Code",icon:(0,k.jsx)(b.Z,{})}],Ie=[{key:"Edit-undo",label:"Undo"},{key:"Edit-redo",label:"Redo"},{key:"Edit-reset",label:"Reset History"}],ge=[{key:"Simulate-from",label:"From Robot",children:[{key:"Simulate-from-start",label:"Start"},{key:"Simulate-from-stop",label:"Stop"},{key:"Simulate-from-log",label:"Debug Log"},{key:"Simulate-from-rx",label:"Rx History"}]},{key:"Simulate-to",label:"To Referee",children:[{key:"Simulate-to-start",label:"Start"},{key:"Simulate-to-stop",label:"Stop"},{key:"Simulate-to-update",label:"Update"}]},{key:"Simulate-settings",label:"Settings"}],Se=function(De){o()(ye,De);var Ce=s()(ye);function ye(){var Me;E()(this,ye);for(var W=arguments.length,ae=new Array(W),L=0;L<W;L++)ae[L]=arguments[L];return Me=Ce.call.apply(Ce,[this].concat(ae)),x()(g()(Me),"state",{fullscreen:!1,frames:["default"],selectedFrame:"default",darkMode:!1,couldUndo:!1,couldRedo:!1,serialStart:!1,serialToStart:!1,autoSave:!0}),x()(g()(Me),"formRef",(0,R.createRef)()),x()(g()(Me),"aboutRef",(0,R.createRef)()),x()(g()(Me),"generatorRef",(0,R.createRef)()),x()(g()(Me),"logDrawerRef",(0,R.createRef)()),x()(g()(Me),"rxDrawerRef",(0,R.createRef)()),x()(g()(Me),"serialModalRef",(0,R.createRef)()),x()(g()(Me),"modeModalRef",(0,R.createRef)()),x()(g()(Me),"tauri",(0,V.UP)()),x()(g()(Me),"serial",new de.Z(function(Z){return Me.onSerialEvent(Z)},function(Z){return Me.onSerialError(Z)})),x()(g()(Me),"serialTo",new fe.Z),x()(g()(Me),"fileHandler",null),Me}return T()(ye,[{key:"onSerialEvent",value:function(W){var ae=[],L=F()(W.events),Z;try{for(L.s();!(Z=L.n()).done;){var l=Z.value,a=this.props.onObjectEvent(l.type,l.obj);(a[0]==="W"||a[0]==="E")&&ae.push(a)}}catch(n){L.e(n)}finally{L.f()}return ae}},{key:"onSerialError",value:function(W){this.props.setEditable(!0),this.setState({serialStart:!1}),pe.yw.error(W.text)}},{key:"componentDidMount",value:function(){var Me=I()(U()().mark(function ae(){var L=this,Z,l,a,n,f;return U()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(a=function(){return a=I()(U()().mark(function B(){var te;return U()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,ne.G.isMaximized();case 2:te=ie.sent,Z.setState({fullscreen:te});case 4:case"end":return ie.stop()}},B)})),a.apply(this,arguments)},l=function(){return a.apply(this,arguments)},Z=this,!this.tauri){z.next=8;break}return z.next=6,l();case 6:return z.next=8,ne.G.onResized(function(H){return l()});case 8:return z.next=11,(n=this.modeModalRef.current)===null||n===void 0?void 0:n.open();case 11:if(f=z.sent,f!=="new"){z.next=25;break}return this.fileHandler=new ve.X(function(){return JSON.stringify({version:2,data:L.props.getData(),selected:L.state.selectedFrame})}),z.next=16,this.fileHandler.create();case 16:if(!z.sent){z.next=23;break}return z.t0=this.props,z.next=20,this.fileHandler.read();case 20:return z.t1=z.sent,z.t0.upload.call(z.t0,z.t1),z.abrupt("break",42);case 23:z.next=40;break;case 25:if(f!=="open"){z.next=38;break}return this.fileHandler=new ve.X(function(){return JSON.stringify({version:2,data:L.props.getData(),selected:L.state.selectedFrame})}),z.next=29,this.fileHandler.open();case 29:if(!z.sent){z.next=36;break}return z.t2=this.props,z.next=33,this.fileHandler.read();case 33:return z.t3=z.sent,z.t2.upload.call(z.t2,z.t3),z.abrupt("break",42);case 36:z.next=40;break;case 38:return this.setState({autoSave:!1}),z.abrupt("break",42);case 40:z.next=8;break;case 42:window.addEventListener("keydown",function(){var H=I()(U()().mark(function B(te){return U()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(!(te.ctrlKey&&te.key==="s")){ie.next=8;break}if(te.preventDefault(),!L.fileHandler){ie.next=7;break}return ie.next=5,L.fileHandler.save();case 5:ie.next=8;break;case 7:(0,V.q7)(L.props.getData(),"ui.rmui",L.state.selectedFrame);case 8:case"end":return ie.stop()}},B)}));return function(B){return H.apply(this,arguments)}}());case 43:case"end":return z.stop()}},ae,this)}));function W(){return Me.apply(this,arguments)}return W}()},{key:"setCouldDo",value:function(W){this.setState({couldUndo:W.couldPrevious,couldRedo:W.couldNext}),this.fileHandler&&this.state.autoSave&&this.fileHandler.update()}},{key:"fullScreen",value:function(){if(this.tauri)ne.G.maximize();else{var W=document.documentElement;W.requestFullscreen?W.requestFullscreen():W.msRequestFullscreen?W.msRequestFullscreen():W.mozRequestFullScreen?W.mozRequestFullScreen():W.webkitRequestFullscreen&&W.webkitRequestFullscreen()}this.setState({fullscreen:!0})}},{key:"exitFullscreen",value:function(){this.tauri?ne.G.unmaximize():document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),this.setState({fullscreen:!1})}},{key:"setFrames",value:function(W){this.setState({frames:W.frames,selectedFrame:W.selected})}},{key:"onMenuClick",value:function(){var Me=I()(U()().mark(function ae(L){var Z=this,l,a,n,f,w,z,H,B,te,se,ie,ce;return U()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(l=L.keyPath[L.keyPath.length-1],l.slice(0,6)!=="Insert"){y.next=7;break}a=L.key.slice(7),n={id:-1,name:"New".concat(a),layer:0,group:"Ungroup",type:"Ui".concat(a)},this.props.onObjectEvent("_add",n),y.next=203;break;case 7:if(l!=="Edit-reset"){y.next=11;break}this.props.onHistoryEvent("resetNow"),y.next=203;break;case 11:if(l!=="Edit-undo"){y.next=15;break}this.props.onHistoryEvent("previous"),y.next=203;break;case 15:if(l!=="Edit-redo"){y.next=19;break}this.props.onHistoryEvent("next"),y.next=203;break;case 19:if(l!=="File-new"){y.next=40;break}if(!this.fileHandler){y.next=36;break}return y.next=23,this.fileHandler.disableAutoSave();case 23:return this.setState({autoSave:!1}),y.next=26,this.fileHandler.create();case 26:if(!y.sent){y.next=34;break}return y.t0=this.props,y.next=30,this.fileHandler.read();case 30:y.t1=y.sent,y.t0.upload.call(y.t0,y.t1),this.fileHandler.enableAutoSave(),this.setState({autoSave:!0});case 34:y.next=38;break;case 36:this.props.reset(),this.props.onHistoryEvent("reset");case 38:y.next=203;break;case 40:if(l!=="File-save"){y.next=49;break}if(!this.fileHandler){y.next=46;break}return y.next=44,this.fileHandler.save();case 44:y.next=47;break;case 46:(0,V.q7)(this.props.getData(),"ui.rmui",this.state.selectedFrame);case 47:y.next=203;break;case 49:if(l!=="File-saveAs"){y.next=63;break}if(!this.fileHandler){y.next=61;break}return y.next=53,this.fileHandler.disableAutoSave();case 53:return this.setState({autoSave:!1}),y.next=56,this.fileHandler.create();case 56:if(!y.sent){y.next=61;break}return y.next=59,this.fileHandler.save();case 59:this.fileHandler.enableAutoSave(),this.setState({autoSave:!0});case 61:y.next=203;break;case 63:if(l!=="File-autoSave"){y.next=74;break}if(!this.fileHandler){y.next=72;break}if(!this.state.autoSave){y.next=70;break}return y.next=68,this.fileHandler.disableAutoSave();case 68:y.next=71;break;case 70:this.fileHandler.enableAutoSave();case 71:this.setState({autoSave:!this.state.autoSave});case 72:y.next=203;break;case 74:if(l!=="File-open"){y.next=94;break}if(!this.fileHandler){y.next=91;break}return y.next=78,this.fileHandler.disableAutoSave();case 78:return this.setState({autoSave:!1}),y.next=81,this.fileHandler.open();case 81:if(!y.sent){y.next=89;break}return y.t2=this.props,y.next=85,this.fileHandler.read();case 85:y.t3=y.sent,y.t2.upload.call(y.t2,y.t3),this.fileHandler.enableAutoSave(),this.setState({autoSave:!0});case 89:y.next=92;break;case 91:(0,V.cT)(".rmui").then(function(Ae){Z.props.upload(Ae)}).catch(function(){});case 92:y.next=203;break;case 94:if(l!=="File-generate"){y.next=98;break}(f=this.generatorRef.current)===null||f===void 0||f.gen(this.props.getData()),y.next=203;break;case 98:if(l!=="FrameOp-add"){y.next=105;break}return y.next=101,this.formRef.current.open("New Frame",this.state.frames);case 101:w=y.sent,this.props.setFrame("add",w),y.next=203;break;case 105:if(l!=="FrameOp-remove"){y.next=109;break}this.props.setFrame("remove",this.state.selectedFrame),y.next=203;break;case 109:if(l!=="FrameOp-copy"){y.next=116;break}return y.next=112,this.formRef.current.open("Copy Frame To",this.state.frames);case 112:z=y.sent,this.props.setFrame("copy",z),y.next=203;break;case 116:if(l!=="FrameOp-rename"){y.next=123;break}return y.next=119,this.formRef.current.open("Rename Frame To",this.state.frames);case 119:H=y.sent,this.props.setFrame("rename",H),y.next=203;break;case 123:if(l!=="FrameOp-change"){y.next=128;break}B=L.key.slice(7),this.props.setFrame("change",B),y.next=203;break;case 128:if(L.key!=="Simulate-from-start"){y.next=141;break}return y.prev=129,y.next=132,this.serial.connect();case 132:this.props.setEditable(!1),this.setState({serialStart:!0}),y.next=139;break;case 136:y.prev=136,y.t4=y.catch(129),pe.yw.error(y.t4.text);case 139:y.next=203;break;case 141:if(L.key!=="Simulate-from-stop"){y.next=154;break}return y.prev=142,y.next=145,this.serial.stop();case 145:this.props.setEditable(!0),this.setState({serialStart:!1}),y.next=152;break;case 149:y.prev=149,y.t5=y.catch(142),pe.yw.error(y.t5.text);case 152:y.next=203;break;case 154:if(L.key!=="Simulate-from-log"){y.next=158;break}(te=this.logDrawerRef.current)===null||te===void 0||te.show(this.serial.getLog()),y.next=203;break;case 158:if(L.key!=="Simulate-from-rx"){y.next=162;break}(se=this.rxDrawerRef.current)===null||se===void 0||se.show(this.serial.getHistory()),y.next=203;break;case 162:if(L.key!=="Simulate-to-start"){y.next=175;break}return y.prev=163,y.next=166,this.serialTo.connect();case 166:pe.yw.warning("This Module is beta now, maybe not work!"),this.setState({serialToStart:!0}),y.next=173;break;case 170:y.prev=170,y.t6=y.catch(163),pe.yw.error(y.t6.text);case 173:y.next=203;break;case 175:if(L.key!=="Simulate-to-stop"){y.next=187;break}return y.prev=176,y.next=179,this.serialTo.stop();case 179:this.setState({serialToStart:!1}),y.next=185;break;case 182:y.prev=182,y.t7=y.catch(176),pe.yw.error(y.t7.text);case 185:y.next=203;break;case 187:if(L.key!=="Simulate-to-update"){y.next=198;break}return y.prev=188,y.next=191,this.serialTo.write({data:this.props.getData(),selected:this.state.selectedFrame});case 191:y.next=196;break;case 193:y.prev=193,y.t8=y.catch(188),pe.yw.error(y.t8.text);case 196:y.next=203;break;case 198:if(l!=="Simulate-settings"){y.next=203;break}return y.next=201,(ie=this.serialModalRef.current)===null||ie===void 0?void 0:ie.getOptions(this.serial.options);case 201:ce=y.sent,ce&&(this.serial.options=ce);case 203:case"end":return y.stop()}},ae,this,[[129,136],[142,149],[163,170],[176,182],[188,193]])}));function W(ae){return Me.apply(this,arguments)}return W}()},{key:"getFramesMenu",value:function(){var W=[{key:"FrameOp-add",label:"New Frame"},{key:"FrameOp-copy",label:"Copy This Frame"},{key:"FrameOp-rename",label:"Rename This Frame"},{key:"FrameOp-remove",label:"Remove This Frame"},{key:"FrameOp-change",label:"Change to",selectable:"true",children:[]}],ae=F()(this.state.frames),L;try{for(ae.s();!(L=ae.n()).done;){var Z=L.value;W[4].children.push({key:"Frames-".concat(Z),label:Z})}}catch(l){ae.e(l)}finally{ae.f()}return W}},{key:"render",value:function(){var W=this,ae=(0,k.jsx)(u.ZP,{type:"text",onClick:function(){return W.fullScreen()},size:"small",children:(0,k.jsx)(C.Z,{style:{color:"var(--ant-color-text)"}})}),L=(0,k.jsx)(u.ZP,{type:"text",onClick:function(){return W.exitFullscreen()},size:"small",children:(0,k.jsx)(h.Z,{style:{color:"var(--ant-color-text)"}})}),Z=(0,k.jsx)(u.ZP,{type:"text",onClick:function(){return W.props.setDarkMode(!0)},size:"small",children:(0,k.jsx)(O.Z,{component:J.r})}),l=(0,k.jsx)(u.ZP,{type:"text",onClick:function(){return W.props.setDarkMode(!1)},size:"small",children:(0,k.jsx)(O.Z,{component:K.r})});return Ie[0].disabled=!this.state.couldUndo,Ie[1].disabled=!this.state.couldRedo,ge[0].disabled=this.state.serialToStart,ge[1].disabled=this.state.serialStart,ge[2].disabled=this.state.serialStart||this.state.serialToStart,ge[0].children[0].disabled=this.state.serialStart,ge[0].children[1].disabled=!this.state.serialStart,ge[1].children[0].disabled=this.state.serialToStart,ge[1].children[1].disabled=!this.state.serialToStart,ge[1].children[2].disabled=!this.state.serialToStart,me[3].disabled=!this.fileHandler,me[4].disabled=!this.fileHandler,me[4].label=(0,k.jsx)(ue.Z,{checked:this.state.autoSave,children:"Auto Save"}),(0,k.jsxs)("div",{style:{width:"100%",height:32,marginTop:-5,zIndex:2e3,position:"relative"},className:"solid-color","data-tauri-drag-region":!0,children:[(0,k.jsxs)(i.Z,{style:{width:"100vw",display:"flex",paddingTop:-5},justify:"flex-start",align:"center","data-tauri-drag-region":!0,children:[(0,k.jsx)("div",{style:{fontFamily:"YouSheBiaoTiHei",fontSize:20,paddingLeft:6,paddingRight:6,paddingTop:3,display:"flex",color:"var(--ant-color-text)",cursor:"default"},"data-tauri-drag-region":!0,children:"RoboMaster UI Designer"}),(0,k.jsx)(m.Z,{menu:{items:[].concat(me),onClick:function(n){return W.onMenuClick(n)}},children:(0,k.jsx)(u.ZP,{type:"text",size:"small",children:"File"})}),(0,k.jsx)(m.Z,{menu:{items:[].concat(Ie),onClick:function(n){return W.onMenuClick(n)}},children:(0,k.jsx)(u.ZP,{type:"text",size:"small",children:"Edit"})}),(0,k.jsx)(m.Z,{menu:{items:(0,D.t)(),onClick:function(n){return W.onMenuClick(n)}},children:(0,k.jsx)(u.ZP,{type:"text",size:"small",children:"Insert"})}),(0,k.jsx)(m.Z,{menu:{items:this.getFramesMenu(),onClick:function(n){return W.onMenuClick(n)},selectedKeys:["Frames-".concat(this.state.selectedFrame)]},children:(0,k.jsx)(u.ZP,{type:"text",size:"small",children:"Frames"})}),(0,k.jsx)(m.Z,{menu:{items:[].concat(ge),onClick:function(n){return W.onMenuClick(n)}},children:(0,k.jsxs)(u.ZP,{type:"text",size:"small",children:["Simulate\xA0",(0,k.jsx)(M.Z,{color:this.state.serialStart||this.state.serialToStart?"green":"red"})]})}),(0,k.jsx)(u.ZP,{type:"text",size:"small",onClick:function(){var n;(n=W.aboutRef.current)===null||n===void 0||n.show()},children:"About"}),(0,k.jsxs)("div",{style:{marginRight:5,justifyContent:"flex-end",marginLeft:"auto",marginTop:2},"data-tauri-drag-region":!0,children:[(0,k.jsxs)("div",{style:{display:"inline",marginRight:15,fontSize:10,cursor:"default",color:"var(--ant-color-text)"},"data-tauri-drag-region":!0,children:["Try\xA0",(0,k.jsx)("a",{href:"/nightly",children:(0,k.jsx)(u.ZP,{type:"link",style:{padding:0},size:"small","data-tauri-drag-region":!0,children:"Nightly"})})]}),(0,k.jsxs)("div",{style:{display:"inline",marginRight:15,fontSize:10,cursor:"default",color:"var(--ant-color-text)"},"data-tauri-drag-region":!0,children:["Created by\xA0",(0,k.jsx)("a",{href:"https://github.com/bismarckkk",target:"_blank",children:(0,k.jsx)(u.ZP,{type:"link",style:{padding:0},size:"small","data-tauri-drag-region":!0,children:"Bismarckkk"})})]}),this.props.darkMode?l:Z,(0,k.jsx)("a",{href:"https://github.com/bismarckkk/RM-UI-Designer",target:"_blank",children:(0,k.jsx)(u.ZP,{type:"text",size:"small",children:(0,k.jsx)(A.Z,{style:{color:"var(--ant-color-text)"}})})}),(0,k.jsx)(u.ZP,{type:"text",size:"small",onClick:function(){return ne.G.minimize()},style:{display:this.tauri?"inline":"none"},children:(0,k.jsx)(j.Z,{style:{color:"var(--ant-color-text)"}})}),this.state.fullscreen?L:ae,(0,k.jsx)(u.ZP,{type:"text",size:"small",onClick:function(){return(0,re.J)()},style:{display:this.tauri?"inline":"none"},children:(0,k.jsx)(S.Z,{style:{color:"var(--ant-color-text)"}})})]})]}),(0,k.jsx)(N.Z,{ref:this.formRef}),(0,k.jsx)(ee.Z,{ref:this.aboutRef}),(0,k.jsx)(he.Z,{ref:this.generatorRef}),(0,k.jsx)(oe.Z,{ref:this.logDrawerRef}),(0,k.jsx)(xe.Z,{ref:this.rxDrawerRef}),(0,k.jsx)(c.Z,{ref:this.serialModalRef}),(0,k.jsx)(P.Z,{ref:this.modeModalRef})]})}}]),ye}(R.Component);q.Z=Se,v()}catch(De){v(De)}})})},3213:function(le,q,e){var Q=e(97857),v=e.n(Q),_=e(13769),U=e.n(_),Y=e(12444),I=e.n(Y),X=e(72004),F=e.n(X),$=e(25098),E=e.n($),r=e(31996),T=e.n(r),G=e(26037),g=e.n(G),p=e(9783),o=e.n(p),t=e(67294),s=e(85576),d=e(40249),x=e(21798),R=e(85893),u=["node"],i=function(m){T()(b,m);var M=g()(b);function b(){var C;I()(this,b);for(var h=arguments.length,A=new Array(h),j=0;j<h;j++)A[j]=arguments[j];return C=M.call.apply(M,[this].concat(A)),o()(E()(C),"state",{open:!1,content:null}),C}return F()(b,[{key:"show",value:function(){this.setState({open:!0})}},{key:"componentDidMount",value:function(){var h=this;fetch(e(99734)).then(function(A){return A.text()}).then(function(A){h.setState({content:A})})}},{key:"render",value:function(){var h=this;return(0,R.jsx)(s.Z,{title:"About",onOk:function(){return h.setState({open:!1})},onCancel:function(){return h.setState({open:!1})},footer:null,open:this.state.open,children:this.state.content?(0,R.jsx)(x.U,{components:{a:function(j){var S=j.node,O=U()(j,u);return(0,R.jsx)("a",v()(v()({},O),{},{target:"_blank"}))}},children:this.state.content}):(0,R.jsx)(d.Z,{})})}}]),b}(t.Component);q.Z=i},41327:function(le,q,e){var Q=e(97857),v=e.n(Q),_=e(13769),U=e.n(_),Y=e(12444),I=e.n(Y),X=e(72004),F=e.n(X),$=e(25098),E=e.n($),r=e(31996),T=e.n(r),G=e(26037),g=e.n(G),p=e(9783),o=e.n(p),t=e(67294),s=e(85576),d=e(42075),x=e(28036),R=e(40249),u=e(21798),i=e(85893),m=["node"],M=function(b){T()(h,b);var C=g()(h);function h(){var A;I()(this,h);for(var j=arguments.length,S=new Array(j),O=0;O<j;O++)S[O]=arguments[O];return A=C.call.apply(C,[this].concat(S)),o()(E()(A),"state",{open:!1,content:null}),A}return F()(h,[{key:"componentDidMount",value:function(){var j=this,S=localStorage.getItem("eula");(!S||!JSON.parse(S))&&(this.setState({open:!0}),fetch(e(19293)).then(function(O){return O.text()}).then(function(O){j.setState({content:O})}))}},{key:"dontShow",value:function(){localStorage.setItem("eula","true"),this.setState({open:!1})}},{key:"render",value:function(){var j=this;return(0,i.jsx)(s.Z,{title:"Welcome to RM UI Designer!",onOk:function(){return j.setState({open:!1})},onCancel:function(){return j.setState({open:!1})},footer:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(x.ZP,{onClick:this.dontShow.bind(this),children:"Don't show"}),(0,i.jsx)(x.ZP,{type:"primary",onClick:function(){return j.setState({open:!1})},children:"OK"})]}),open:this.state.open,zIndex:2200,children:this.state.content?(0,i.jsx)(u.U,{components:{a:function(O){var N=O.node,D=U()(O,m);return(0,i.jsx)("a",v()(v()({},D),{},{target:"_blank"}))}},children:this.state.content}):(0,i.jsx)(R.Z,{})})}}]),h}(t.Component);q.Z=M},48268:function(le,q,e){var Q=e(64599),v=e.n(Q),_=e(15009),U=e.n(_),Y=e(99289),I=e.n(Y),X=e(12444),F=e.n(X),$=e(72004),E=e.n($),r=e(25098),T=e.n(r),G=e(31996),g=e.n(G),p=e(26037),o=e.n(p),t=e(9783),s=e.n(t),d=e(67294),x=e(49333),R=e(47745),u=e(85893),i=function(m){g()(b,m);var M=o()(b);function b(){var C;F()(this,b);for(var h=arguments.length,A=new Array(h),j=0;j<h;j++)A[j]=arguments[j];return C=M.call.apply(M,[this].concat(A)),s()(T()(C),"state",{title:"",open:!1,frames:[]}),s()(T()(C),"promise",null),C}return E()(b,[{key:"open",value:function(h,A){var j=this;return new Promise(function(S,O){j.setState({title:h,open:!0,frames:A}),j.promise&&j.promise.reject(),j.promise={resolve:S,reject:O}})}},{key:"render",value:function(){var h=this;return(0,u.jsx)(x.Y,{title:this.state.title,autoFocusFirstInput:!0,width:240,open:this.state.open,onOpenChange:function(j){h.promise&&!j&&h.state.open&&h.promise.reject(),h.setState({open:j})},onFinish:function(){var A=I()(U()().mark(function j(S){return U()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return h.promise.resolve(S.frame),h.promise=null,N.abrupt("return",!0);case 3:case"end":return N.stop()}},j)}));return function(j){return A.apply(this,arguments)}}(),children:(0,u.jsx)(R.Z,{name:"frame",label:"New Frame Name",width:"sm",rules:[{required:!0,message:"Please input frame name!"},function(A){var j=A.getFieldValue,S=h;return{validator:function(N,D){{var ee=!0,P=j("frame"),J=v()(S.state.frames),K;try{for(J.s();!(K=J.n()).done;){var c=K.value;if(c===P){ee=!1;break}}}catch(oe){J.e(oe)}finally{J.f()}return ee?Promise.resolve():Promise.reject(new Error("Cannot create same name frame!"))}}}}]})})}}]),b}(d.Component);q.Z=i},79476:function(le,q,e){var Q=e(12444),v=e.n(Q),_=e(72004),U=e.n(_),Y=e(25098),I=e.n(Y),X=e(31996),F=e.n(X),$=e(26037),E=e.n($),r=e(9783),T=e.n(r),G=e(67294),g=e(22997),p=e(2487),o=e(42075),t=e(42477),s=e(78977),d=e(97309),x=e(85893),R=function(u){F()(m,u);var i=E()(m);function m(){var M;v()(this,m);for(var b=arguments.length,C=new Array(b),h=0;h<b;h++)C[h]=arguments[h];return M=i.call.apply(i,[this].concat(C)),T()(I()(M),"state",{show:!1,errors:[]}),M}return U()(m,[{key:"onClose",value:function(){this.setState({show:!1})}},{key:"show",value:function(b){this.setState({show:!0,errors:b})}},{key:"render",value:function(){var b=this,C=this.state.errors.filter(function(j){return j.level==="warn"}),h=this.state.errors.filter(function(j){return j.level==="error"}),A=(0,x.jsx)(g.ZP,{status:"success",title:"0 error, 0 warning!",style:{marginTop:"50px"}});return h.length+C.length>0&&(A=(0,x.jsxs)("div",{style:{color:"var(--ant-color-text)",height:"100%"},children:[(0,x.jsxs)("p",{children:["Logged ",h.length," errors, ",C.length," warnings."]}),(0,x.jsx)("div",{style:{paddingBottom:10},className:"card-body",children:(0,x.jsx)(p.Z,{bordered:!0,dataSource:this.state.errors,renderItem:function(S){return(0,x.jsx)(p.Z.Item,{children:(0,x.jsxs)(o.Z,{size:"middle",children:[S.level==="warn"?(0,x.jsx)(s.Z,{}):(0,x.jsx)(d.Z,{}),"".concat(S.time.toLocaleTimeString(),": ").concat(S.message)]})})}})})]})),(0,x.jsx)(t.Z,{title:"Serial Debug Log",placement:"right",onClose:function(){return b.onClose()},open:this.state.show,size:"large",getContainer:document.getElementById("content-in"),rootStyle:{inset:"25px 0 0 0"},style:{borderTop:"3px var(--ant-line-type) var(--ant-color-split)"},children:(0,x.jsx)("div",{style:{width:"100%",height:"calc(100% - 25px)"},children:A})})}}]),m}(G.Component);q.Z=R},54349:function(le,q,e){var Q=e(12444),v=e.n(Q),_=e(72004),U=e.n(_),Y=e(25098),I=e.n(Y),X=e(31996),F=e.n(X),$=e(26037),E=e.n($),r=e(9783),T=e.n(r),G=e(67294),g=e(85576),p=e(42075),o=e(28036),t=e(96074),s=e(37932),d=e(85893),x=function(R){F()(i,R);var u=E()(i);function i(){var m;v()(this,i);for(var M=arguments.length,b=new Array(M),C=0;C<M;C++)b[C]=arguments[C];return m=u.call.apply(u,[this].concat(b)),T()(I()(m),"state",{title:"",open:!1,frames:[]}),T()(I()(m),"promise",null),m}return U()(i,[{key:"open",value:function(){var M=this;return new Promise(function(b,C){M.setState({open:!0}),M.promise&&M.promise.reject(),M.promise={resolve:b,reject:C}})}},{key:"onClick",value:function(M){this.setState({open:!1}),this.promise.resolve(M),this.promise=null}},{key:"render",value:function(){var M=this,b=(0,s._)();return(0,d.jsx)(g.Z,{footer:null,maskClosable:!1,closeIcon:null,zIndex:2050,open:this.state.open,children:(0,d.jsxs)(p.Z,{direction:"vertical",size:"middle",style:{width:"100%",padding:15},children:[(0,d.jsx)(o.ZP,{type:"primary",disabled:!b,style:{width:"100%"},size:"large",onClick:function(){return M.onClick("new")},children:"New Project"}),(0,d.jsx)(o.ZP,{type:"primary",disabled:!b,style:{width:"100%"},size:"large",onClick:function(){return M.onClick("open")},children:"Open Exist"}),(0,d.jsx)(t.Z,{}),(0,d.jsx)(o.ZP,{type:"primary",style:{width:"100%"},size:"large",onClick:function(){return M.onClick("use")},children:"Temporary Use"})]})})}}]),i}(G.Component);q.Z=x},61024:function(le,q,e){var Q=e(19632),v=e.n(Q),_=e(15009),U=e.n(_),Y=e(99289),I=e.n(Y),X=e(64599),F=e.n(X),$=e(97857),E=e.n($),r=e(12444),T=e.n(r),G=e(72004),g=e.n(G),p=e(25098),o=e.n(p),t=e(31996),s=e.n(t),d=e(26037),x=e.n(d),R=e(9783),u=e.n(R),i=e(67294),m=e(32983),M=e(66309),b=e(96074),C=e(55241),h=e(42477),A=e(86250),j=e(42075),S=e(28036),O=e(66227),N=e(73676),D=e(68548),ee=e(30789),P=e(85893),J=function(K){s()(oe,K);var c=x()(oe);function oe(){var xe;T()(this,oe);for(var ue=arguments.length,pe=new Array(ue),ne=0;ne<ue;ne++)pe[ne]=arguments[ne];return xe=c.call.apply(c,[this].concat(pe)),u()(o()(xe),"state",{show:!1,history:{rx:0,log:[],start:-1}}),xe}return g()(oe,[{key:"onClose",value:function(){this.setState({show:!1})}},{key:"show",value:function(ue){this.setState({show:!0,history:E()(E()({},ue),{},{start:-1})})}},{key:"save",value:function(){var ue="",pe=F()(this.state.history.log),ne;try{for(pe.s();!(ne=pe.n()).done;){var re=ne.value,V=F()(re),he;try{for(V.s();!(he=V.n()).done;){var de=he.value;ue+=de.toString(16).padStart(2,"0").toUpperCase()+" "}}catch(fe){V.e(fe)}finally{V.f()}ue=ue.slice(0,-1)+`
`}}catch(fe){pe.e(fe)}finally{pe.f()}ue=ue.slice(0,-1),(0,ee.E4)(ue,"rx.log")}},{key:"load",value:function(){var xe=I()(U()().mark(function pe(){var ne=this,re,V;return U()().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,(0,ee.cT)(".log");case 2:re=de.sent,V=new FileReader,V.onload=function(){var fe=V.result,ve=fe.split(`
`),k=0,be=[],me=F()(ve),Ie;try{for(me.s();!(Ie=me.n()).done;){var ge=Ie.value,Se=[],De=ge.split(" "),Ce=F()(De),ye;try{for(Ce.s();!(ye=Ce.n()).done;){var Me=ye.value;Se.push(parseInt(Me,16))}}catch(W){Ce.e(W)}finally{Ce.f()}be.push(new Uint8Array(Se)),k+=Se.length}}catch(W){me.e(W)}finally{me.f()}ne.setState({history:{rx:k,log:be,start:-1}})},V.readAsText(re);case 6:case"end":return de.stop()}},pe)}));function ue(){return xe.apply(this,arguments)}return ue}()},{key:"render",value:function(){var ue=this,pe=this,ne=this.state.history,re;if(ne.log.length===0)re=(0,P.jsx)(m.Z,{image:m.Z.PRESENTED_IMAGE_SIMPLE,description:"No log yet."});else{re=[];for(var V=0,he=function(k,be){return k==="A5"?(0,P.jsx)(M.Z,{color:"blue",onClick:function(){return pe.setState({history:E()(E()({},pe.state.history),{},{start:be})})},children:k},be):(0,P.jsx)(M.Z,{children:k},be)},de=function(k){var be=ne.log[k];if(V>ne.start||V+be.length<ne.start)re.push((0,P.jsx)(b.Z,{},k)),re.push(Array.from(be).map(function(a){return a.toString(16).padStart(2,"0").toUpperCase()}).map(function(a){var n=he(a,V);return V+=1,n}));else{re.push((0,P.jsx)(b.Z,{},"".concat(k,"-prefix")));var me=ne.start-V,Ie=Array.from(be.slice(0,me));re.push(Array.from(Ie).map(function(a){return a.toString(16).padStart(2,"0").toUpperCase()}).map(function(a){var n=he(a,V);return V+=1,n})),re.push((0,P.jsx)(b.Z,{},"".concat(k,"-msg")));for(var ge=v()(be.slice(me)),Se=[0],De=k+1;De<ne.log.length;De++)Se.push(ge.length),ge.push.apply(ge,v()(Array.from(ne.log[De])));var Ce=function(n){re.push((0,P.jsx)(b.Z,{},"".concat(k,"-suffix")));var f;for(f=0;f<Se.length;f++)if(f===0){if(ne.log[f+k].length-me>n){var w=ne.log[f+k];re.push(Array.from(w.slice(n+me)).map(function(H){return H.toString(16).padStart(2,"0").toUpperCase()}).map(function(H){var B=he(H,V);return V+=1,B}));break}}else if(Se[f]+ne.log[f+k].length>n){var z=ne.log[f+k];re.push(Array.from(z.slice(n-Se[f])).map(function(H){return H.toString(16).padStart(2,"0").toUpperCase()}).map(function(H){var B=he(H,V);return V+=1,B}));break}k+=f},ye=function(n,f,w,z){return(0,P.jsx)(C.Z,{title:z,content:(0,P.jsx)(O.vY,{dataSource:w,columns:(0,D.W)(w),editable:!1,column:1,style:{width:250}},"".concat(V,"-").concat(z)),destroyTooltipOnHide:!0,children:f!=="Object"?Array.from(n).map(function(H){return H.toString(16).padStart(2,"0").toUpperCase()}).map(function(H){var B=ae(H,V,f);return V+=1,B}):n})},Me=function(n){var f=(0,N.EY)(Uint8Array.from(n));if(f.events.length>0){var w=[ye(n.slice(0,6),"purple",f,"Info")],z="geekblue",H=F()(f.events),B;try{for(H.s();!(B=H.n()).done;){var te=B.value;w.push(ye(n.slice(te.obj._start,te.obj._end),z,E()({operation:te.type},te.obj),"Object")),z==="geekblue"?z="cyan":z="geekblue"}}catch(ie){H.e(ie)}finally{H.f()}return w}else{var se=[ye(n.slice(0,2),"geekblue",{error:"Wrong sub cmd id",sub_id:f.sub_id},"Error")];return se.push(Array.from(n.slice(2)).map(function(ie){return ie.toString(16).padStart(2,"0").toUpperCase()}).map(function(ie){var ce=ae(ie,V,"orange");return V+=1,ce})),se}},W=(0,N.Pg)(Uint8Array.from(ge));console.log(W);var ae=function(n,f,w){return(0,P.jsx)(M.Z,{color:w,children:n},f)};if(W.code===0){var L,Z=W.header;re.push(ye(ge.slice(0,7),"green",Z,"Header")),(L=re).push.apply(L,v()(Me(ge.slice(7,Z.length+7)))),re.push(Array.from(ge.slice(Z.length+7,Z.length+9)).map(function(a){return a.toString(16).padStart(2,"0").toUpperCase()}).map(function(a){var n=ae(a,V,"green");return V+=1,n})),Ce(Z.length+9)}else if(W.code<=2)re.push(ye(ge.slice(0,1),"red",W,"Error")),Ce(1);else if(W.code<=6)re.push(ye(Array.from(ge.slice(0,5)).map(function(a){return a.toString(16).padStart(2,"0").toUpperCase()}).map(function(a,n){var f="green";W.loc.includes(n)&&(f="red");var w=ae(a,V,f);return V+=1,w}),"Object",W,"Error")),Ce(5);else if(W.code<=7){var l;re.push(ye(ge.slice(0,7),"green",W.header,"Header")),(l=re).push.apply(l,v()(Me(ge.slice(7,W.loc[0])))),re.push(ye(ge.slice(W.loc[0],W.loc[1]+1),"red",W,"Error")),Ce(W.loc[1]+1)}}fe=k},fe=0;fe<ne.log.length;fe++)de(fe)}return(0,P.jsx)(h.Z,{title:"Serial Rx History",placement:"right",onClose:function(){return ue.onClose()},open:this.state.show,size:"large",getContainer:document.getElementById("content-in"),rootStyle:{inset:"25px 0 0 0"},style:{borderTop:"3px var(--ant-line-type) var(--ant-color-split)"},children:(0,P.jsx)("div",{style:{width:"100%",height:"calc(100% - 25px)"},children:(0,P.jsxs)("div",{style:{color:"var(--ant-color-text)",height:"100%"},children:[(0,P.jsxs)(A.Z,{justify:"space-between",align:"center",children:[(0,P.jsxs)("p",{style:{margin:6},children:["RX: ",ne.rx,",\xA0\xA0 This is not a real-time display, close and reopen to refresh."]}),(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(S.ZP,{size:"small",type:"primary",onClick:function(){return ue.save()},children:"Save"}),(0,P.jsx)(S.ZP,{size:"small",onClick:function(){return ue.load()},children:"load"})]})]}),(0,P.jsx)("div",{style:{paddingBottom:10},className:"card-body",children:re})]})})})}}]),oe}(i.Component);q.Z=J},23481:function(le,q,e){var Q=e(15009),v=e.n(Q),_=e(99289),U=e.n(_),Y=e(12444),I=e.n(Y),X=e(72004),F=e.n(X),$=e(25098),E=e.n($),r=e(31996),T=e.n(r),G=e(26037),g=e.n(G),p=e(9783),o=e.n(p),t=e(67294),s=e(49333),d=e(25641),x=e(85893),R=[1152e3,1e6,921600,576e3,5e5,460800,230400,115200,74800,57600,38400,19200,9600,4800],u=function(i){T()(M,i);var m=g()(M);function M(){var b;I()(this,M);for(var C=arguments.length,h=new Array(C),A=0;A<C;A++)h[A]=arguments[A];return b=m.call.apply(m,[this].concat(h)),o()(E()(b),"state",{open:!1,defaultOptions:{}}),o()(E()(b),"promise",null),b}return F()(M,[{key:"getOptions",value:function(C){var h=this;return new Promise(function(A,j){h.setState({open:!0,defaultOptions:C}),h.promise&&h.promise.reject(),h.promise={resolve:A,reject:j}})}},{key:"onFinish",value:function(){var b=U()(v()().mark(function h(A){return v()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return this.promise.resolve(A),this.promise=null,S.abrupt("return",!0);case 3:case"end":return S.stop()}},h,this)}));function C(h){return b.apply(this,arguments)}return C}()},{key:"render",value:function(){var C=this;return(0,x.jsxs)(s.Y,{title:"Serial",width:400,open:this.state.open,onOpenChange:function(A){return C.setState({open:A})},onFinish:function(){var h=U()(v()().mark(function A(j){return v()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,C.onFinish(j);case 2:return O.abrupt("return",O.sent);case 3:case"end":return O.stop()}},A)}));return function(A){return h.apply(this,arguments)}}(),children:[(0,x.jsx)(d.Z,{name:"baudRate",label:"Baud Rate",width:"sm",initialValue:this.state.defaultOptions.baudRate,options:R.map(function(h){return{value:h,label:h.toString()}}),rules:[{required:!0}]}),(0,x.jsx)(d.Z,{name:"dataBits",label:"Data Bits",width:"sm",initialValue:this.state.defaultOptions.dataBits,options:[{value:8,label:"8"},{value:7,label:"7"}],rules:[{required:!0}]}),(0,x.jsx)(d.Z,{name:"stopBits",label:"Stop Bits",width:"sm",initialValue:this.state.defaultOptions.stopBits,options:[{value:1,label:"1"},{value:2,label:"2"}],rules:[{required:!0}]}),(0,x.jsx)(d.Z,{name:"parity",label:"Parity",width:"sm",initialValue:this.state.defaultOptions.parity,options:[{value:"none",label:"None"},{value:"even",label:"Even"},{value:"odd",label:"Odd"}],rules:[{required:!0}]}),(0,x.jsx)(d.Z,{name:"flowControl",label:"Flow Control",width:"sm",initialValue:this.state.defaultOptions.flowControl,options:[{value:"none",label:"None"},{value:"hardware",label:"Hardware"}],rules:[{required:!0}]})]})}}]),M}(t.Component);q.Z=u},4585:function(le,q,e){e.d(q,{Z:function(){return pe}});var Q=e(97857),v=e.n(Q),_=e(13769),U=e.n(_),Y=e(15009),I=e.n(Y),X=e(99289),F=e.n(X),$=e(12444),E=e.n($),r=e(72004),T=e.n(r),G=e(25098),g=e.n(G),p=e(31996),o=e.n(p),t=e(26037),s=e.n(t),d=e(9783),x=e.n(d),R=e(67294),u=e(22997),i=e(42075),m=e(74330),M=e(85576),b=e(28036),C=e(92462),h=e(553),A=e(30789);function j(){return S.apply(this,arguments)}function S(){return S=F()(I()().mark(function ne(){var re,V,he,de,fe,ve,k,be,me,Ie,ge,Se,De;return I()().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if(!(0,A.UP)()){ye.next=14;break}return ye.next=3,(0,C.Py)();case 3:if(re=ye.sent,!re.manifest){ye.next=11;break}return V=re.manifest.version.slice(1).split(".").map(Number),he=localStorage.getItem("version_ignored"),he||(he="v1.2.19"),de=he.slice(1).split(".").map(Number),fe=V[0]>de[0]||V[1]>de[1]||V[2]>de[2],ye.abrupt("return",{shouldUpdate:fe,manifest:re.manifest});case 11:return ye.abrupt("return",re);case 14:return ve=Date.now(),ye.next=17,fetch("https://ui.bismarck.xyz/update.json?".concat(ve));case 17:return k=ye.sent,ye.next=20,k.json();case 20:return be=ye.sent,me=be.notes,Ie=be.version.slice(1).split(".").map(Number),ge=localStorage.getItem("version_ignored"),ge||(ge="v1.2.19"),Se=ge.slice(1).split(".").map(Number),De=Ie[0]>Se[0]||Ie[1]>Se[1]||Ie[2]>Se[2],ye.abrupt("return",{shouldUpdate:De,manifest:{body:me,version:be.version}});case 28:case"end":return ye.stop()}},ne)})),S.apply(this,arguments)}function O(){return N.apply(this,arguments)}function N(){return N=F()(I()().mark(function ne(){return I()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!(0,A.UP)()){V.next=6;break}return V.next=3,(0,C.F_)();case 3:return V.abrupt("return",V.sent);case 6:window.location.reload();case 7:case"end":return V.stop()}},ne)})),N.apply(this,arguments)}var D={checkUpdate:j,installUpdate:O,relaunch:h.R},ee=e(28348),P=e(21798),J=e(85893),K=["node"],c=D.checkUpdate,oe=D.installUpdate,xe=D.relaunch,ue=function(ne){o()(V,ne);var re=s()(V);function V(){var he;E()(this,V);for(var de=arguments.length,fe=new Array(de),ve=0;ve<de;ve++)fe[ve]=arguments[ve];return he=re.call.apply(re,[this].concat(fe)),x()(g()(he),"state",{step:0,content:"",version:""}),he}return T()(V,[{key:"handleClose",value:function(){this.setState({step:0})}},{key:"handleOk",value:function(){var he=F()(I()().mark(function fe(){return I()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.prev=0,this.setState({step:2}),k.next=4,oe();case 4:if(k.t0=!(0,A.UP)(),k.t0){k.next=9;break}return k.next=8,xe();case 8:k.t0=!k.sent;case 9:if(!k.t0){k.next=11;break}this.setState({step:3});case 11:k.next=16;break;case 13:k.prev=13,k.t1=k.catch(0),this.setState({step:-1});case 16:case"end":return k.stop()}},fe,this,[[0,13]])}));function de(){return he.apply(this,arguments)}return de}()},{key:"check",value:function(){var de=this,fe=/(https:\/\/github\.com\/bismarckkk\/RM-UI-Designer\/pull\/)(\d+)/g,ve=/(https:\/\/github\.com\/bismarckkk\/RM-UI-Designer\/compare\/)(v\d+\.\d+\.\d+\.\.\.v\d+\.\d+\.\d+)/g;F()(I()().mark(function k(){var be,me,Ie;return I()().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.prev=0,Se.next=3,c();case 3:be=Se.sent,me=be.shouldUpdate,Ie=be.manifest,me&&de.setState({step:1,content:Ie.body.replace(fe,function(De,Ce,ye){return"[#".concat(ye,"](").concat(Ce).concat(ye,")")}).replace(ve,function(De,Ce,ye){return"[#".concat(ye,"](").concat(Ce).concat(ye,")")}),version:Ie.version}),Se.next=12;break;case 9:Se.prev=9,Se.t0=Se.catch(0),ee.yw.warning("Failed to check update.");case 12:case"end":return Se.stop()}},k,null,[[0,9]])}))()}},{key:"ignore",value:function(){localStorage.setItem("version_ignored",this.state.version),this.handleClose()}},{key:"componentDidMount",value:function(){this.check()}},{key:"render",value:function(){var de=(0,J.jsx)("div",{});return this.state.step===-1?de=(0,J.jsx)(u.ZP,{status:"error",title:"Update Failed"}):this.state.step===1?de=(0,J.jsx)(P.U,{components:{a:function(ve){var k=ve.node,be=U()(ve,K);return(0,J.jsx)("a",v()(v()({},be),{},{target:"_blank"}))}},children:this.state.content}):this.state.step===2?de=(0,J.jsx)("div",{style:{padding:40,textAlign:"center",color:"var(--ant-color-text)"},children:(0,J.jsxs)(i.Z,{direction:"vertical",children:[(0,J.jsx)(m.Z,{size:"large"}),(0,J.jsx)("h3",{children:"Updating..."})]})}):this.state.step===3&&(de=(0,J.jsx)(u.ZP,{status:"success",title:"Update Success",subTitle:"Please restart the app to apply the update."})),(0,J.jsx)(M.Z,{title:"Auto Update",open:this.state.step,closable:this.state.step>1,maskClosable:this.state.step>1,zIndex:2100,footer:this.state.step===1?(0,J.jsxs)(i.Z,{children:[(0,J.jsx)(b.ZP,{onClick:this.ignore.bind(this),children:"Ignore"}),(0,J.jsx)(b.ZP,{onClick:this.handleClose.bind(this),children:"Cancel"}),(0,J.jsx)(b.ZP,{type:"primary",onClick:this.handleOk.bind(this),children:"Update"})]}):null,children:de})}}]),V}(R.Component),pe=ue},18877:function(le,q,e){e.d(q,{Z:function(){return Me}});var Q=e(97857),v=e.n(Q),_=e(15009),U=e.n(_),Y=e(64599),I=e.n(Y),X=e(99289),F=e.n(X),$=e(19632),E=e.n($),r=e(12444),T=e.n(r),G=e(72004),g=e.n(G),p=e(25098),o=e.n(p),t=e(31996),s=e.n(t),d=e(26037),x=e.n(d),R=e(9783),u=e.n(R),i=e(67294),m=e(327),M=e(32983),b=e(42075),C=e(28036),h=e(28348),A=e(3909),j=e(66227),S=e(86250),O=e(83159),N=e(98668),D=e(63237),ee=e(99569),P=e(36810),J=e(19893),K=e(42922),c=e(85893),oe=function(W){s()(L,W);var ae=x()(L);function L(){var Z;T()(this,L);for(var l=arguments.length,a=new Array(l),n=0;n<l;n++)a[n]=arguments[n];return Z=ae.call.apply(ae,[this].concat(a)),u()(o()(Z),"state",{status:Z.props.defaultStatus||!1}),Z}return g()(L,[{key:"render",value:function(){var l=this;return(0,c.jsx)(C.ZP,{size:"small",type:"text",onClick:function(){l.props.onChange&&l.props.onChange(!l.state.status),l.setState({status:!l.state.status})},children:this.state.status?this.props.onNode||"ON":this.props.offNode||"OFF"})}}]),L}(i.Component),xe=oe;function ue(W){return W.map(function(ae){return ae===-2?"window":"E-".concat(ae)})}var pe=[{key:"D1-group-layer",label:"layer"},{key:"D1-group-group",label:"group"}],ne=function(W){s()(L,W);var ae=x()(L);function L(){var Z;T()(this,L);for(var l=arguments.length,a=new Array(l),n=0;n<l;n++)a[n]=arguments[n];return Z=ae.call.apply(ae,[this].concat(a)),u()(o()(Z),"state",{treeData:[],rightClickMenuOpen:!1,groupKey:"layer"}),u()(o()(Z),"treeData",[]),Z}return g()(L,[{key:"selectKey2id",value:function(l){var a=this,n=[],f=I()(l),w;try{var z=function(){var B=w.value;if(B==="window")n.push(-2);else if(B.startsWith("E-"))n.push(parseInt(B.slice(2)));else{var te=a.treeData.find(function(je){return je.key===B}).children.map(function(je){return parseInt(je.key.slice(2))}),se=I()(te),ie;try{for(se.s();!(ie=se.n()).done;){var ce=ie.value;n.includes(ce)||n.push(ce)}}catch(je){se.e(je)}finally{se.f()}}};for(f.s();!(w=f.n()).done;)z()}catch(H){f.e(H)}finally{f.f()}return n}},{key:"onElementMenuContainerClick",value:function(l){l.target.classList.value.includes("ant-dropdown-menu")||(console.log(l.target.className),this.setState({rightClickMenuOpen:!1}),(l.target.classList.contains("ant-tree")||!l.ctrlKey&&!l.shiftKey)&&this.props.onSelect([]))}},{key:"onElementMenuClick",value:function(l){var a=this;if(this.setState({rightClickMenuOpen:!1}),l.key==="D2-copy"){var n=null;l.target.localName!=="input"&&this.props.selectedId.length!==0&&this.props.selectedId[0]!==-2&&(l.preventDefault(),n=JSON.stringify(this.props.selectedId.map(function(H){return a.props.data[H]})),l.clipboardData.setData("text",n))}else if(l.key==="D2-delete"){var f=I()(this.props.selectedId),w;try{for(f.s();!(w=f.n()).done;){var z=w.value;console.log(z),console.log(this.props.onObjectEvent("remove",{id:z}))}}catch(H){f.e(H)}finally{f.f()}}}},{key:"onElementRightClick",value:function(l){var a=this.selectKey2id([l.node.key]);a[0]in this.props.selectedId||this.props.onSelect(a)}},{key:"onSelect",value:function(l){if(l.length!==0){var a=this.selectKey2id(l);a.includes(-2)&&(a=[a[a.length-1]]),this.props.onSelect(a)}}},{key:"onMenuOpenChange",value:function(l){if(l){var a=this;setTimeout(function(){a.props.selectedId.length!==0&&a.props.selectedId[0]!==-2?a.setState({rightClickMenuOpen:!0}):a.setState({rightClickMenuOpen:!1})},100)}else this.setState({rightClickMenuOpen:!1})}},{key:"elementsMenuOnClick",value:function(l){var a=this;this.setState({groupKey:l.key.slice(9)},function(){return a.updateTree()})}},{key:"updateTree",value:function(){for(var l=this,a=this.state.groupKey,n=[],f=Object.keys(this.props.data),w=function(){for(var B=l.props.data[f[z]],te=-1,se=0;se<n.length;se++)if(n[se].key==="".concat(a,"-").concat(B[a])){te=se;break}te===-1&&(n.push({title:"".concat(a," ").concat(B[a]),key:"".concat(a,"-").concat(B[a]),children:[],isLeaf:!1}),te=n.length-1),n[te].children.push({title:(0,c.jsxs)(S.Z,{justify:"space-between",style:{width:"100%"},children:[B.name,(0,c.jsxs)(b.Z,{children:[(0,c.jsx)(xe,{onChange:function(ce){return l.props.onObjectEvent("setAttr",{id:B.id,payload:{visible:ce}})},defaultStatus:!0,offNode:(0,c.jsx)(D.Z,{}),onNode:(0,c.jsx)(ee.Z,{})}),(0,c.jsx)(xe,{onChange:function(ce){return l.props.onObjectEvent("setAttr",{id:B.id,payload:{selectable:ce}})},defaultStatus:!0,offNode:(0,c.jsx)(P.Z,{}),onNode:(0,c.jsx)(J.Z,{style:{transform:"scaleX(-1)"}})})]})]}),key:"E-".concat(f[z])})},z=0;z<f.length;z++)w();return n=n.sort(function(H,B){return H.key.toString().localeCompare(B.key.toString())}),n.unshift({title:"UI Window",key:"window"}),this.treeData=n,n}},{key:"render",value:function(){var l=this;return(0,c.jsx)(m.Z,{size:"small",title:"Elements",style:{height:"100%"},extra:(0,c.jsx)(O.Z,{menu:{items:pe,onClick:function(n){return l.elementsMenuOnClick(n)},selectable:!0,selectedKeys:["D1-group-".concat(this.state.groupKey)]},children:(0,c.jsxs)(b.Z,{style:{fontSize:11},children:["Group by",(0,c.jsx)(K.Z,{size:"small"})]})}),children:(0,c.jsx)("div",{className:"card-body",onMouseUp:function(n){return l.onElementMenuContainerClick(n)},children:(0,c.jsx)(O.Z,{menu:{items:[{key:"D2-copy",label:"Copy"},{key:"D2-delete",label:"Delete",danger:!0}],onClick:function(n){l.onElementMenuClick(n)}},trigger:["contextMenu"],open:this.state.rightClickMenuOpen,onOpenChange:function(n){l.onMenuOpenChange(n)},children:(0,c.jsx)(N.Z,{className:"full",treeData:this.updateTree(),onSelect:function(n){return l.onSelect(n)},selectedKeys:ue(this.props.selectedId),onRightClick:function(n){return l.onElementRightClick(n)},treeDefaultExpandAll:!0,showLine:!0,blockNode:!0,multiple:!0,selectable:this.props.editable})})})})}}]),L}(i.Component),re=ne,V=e(32777),he=e(68548),de=e(30789),fe=e(62388);function ve(W,ae,L,Z){return k.apply(this,arguments)}function k(){return k=F()(U()().mark(function W(ae,L,Z,l){var a,n,f,w,z,H,B,te,se,ie;return U()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(ae){je.next=2;break}return je.abrupt("return");case 2:if(a=1,ae.version&&(a=ae.version),a!==1){je.next=10;break}return je.next=7,Z("default");case 7:for(n=0,f=Object.keys(ae);n<f.length;n++)w=f[n],L("_update",ae[w]);je.next=22;break;case 10:if(a!==2){je.next=22;break}z=0,H=Object.keys(ae.data);case 12:if(!(z<H.length)){je.next=20;break}return B=H[z],je.next=16,Z(B);case 16:for(te=0,se=Object.keys(ae.data[B]);te<se.length;te++)ie=se[te],L("_update",ae.data[B][ie]);case 17:z++,je.next=12;break;case 20:return je.next=22,Z(ae.selected);case 22:l();case 23:case"end":return je.stop()}},W)})),k.apply(this,arguments)}var be=e(96486),me=e.n(be);function Ie(W){return W.head>0?v()({},W.data[W.head-1]):null}function ge(W){return W.head<W.data.length-1?v()({},W.data[W.head+1]):null}var Se=function(){function W(){T()(this,W),u()(this,"cacheTimer",null),u()(this,"updateTimer",null),u()(this,"now",null),u()(this,"_previous",null),u()(this,"_next",null),u()(this,"his",null),u()(this,"catchUpdate",!0);var ae=localStorage.getItem("history"),L={data:[{}],head:0,version:1};ae?L=JSON.parse(ae):(ae=localStorage.getItem("data"),ae?L.data[0]=JSON.parse(ae):L.data[0]={version:2,data:{default:{}},selected:"default"},localStorage.setItem("history",JSON.stringify(L))),this.now=L.data[L.head],this._previous=Ie(L),this._next=ge(L)}return g()(W,[{key:"save",value:function(){var L=this;this.cacheTimer&&clearTimeout(this.cacheTimer),this.cacheTimer=setTimeout(function(){L.his.head>50&&(L.his.data=L.his.data.slice(L.his.head-50),L.his.head=50),L.his.head<L.his.data.length-20&&(L.his.data=L.his.data.slice(0,L.his.head+20)),localStorage.setItem("history",JSON.stringify(L.his)),L.his=null},2e3)}},{key:"read",value:function(){this.his||(this.his=JSON.parse(localStorage.getItem("history")))}},{key:"get",value:function(){return this.catchUpdate?{now:this.now,couldNext:this._next!==null,couldPrevious:this._previous!==null}:{now:this.now,couldNext:!1,couldPrevious:!1}}},{key:"reset",value:function(L){return this._previous=null,this._next=null,this.his={data:[L],head:0,version:1},this.save(),this.get()}},{key:"next",value:function(){return this._next&&(this._previous=this.now,this.now=this._next,this.read(),this.his.head++,this._next=ge(this.his),this.save()),this.get()}},{key:"previous",value:function(){return this._previous&&(this._next=this.now,this.now=this._previous,this.read(),this.his.head--,this._previous=Ie(this.his),this.save()),this.get()}},{key:"cancelUpdate",value:function(){this.updateTimer&&clearTimeout(this.updateTimer)}},{key:"update",value:function(L){var Z=this;this.catchUpdate&&(this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=setTimeout(function(){me().isEqual(L,Z.now)||(Z._previous=Z.now,Z.now=L,Z.read(),Z.his.data=Z.his.data.slice(0,Z.his.head+1),Z.his.data.push(L),Z.his.head++,Z._next=null,Z.save())},500))}}]),W}(),De=Se,Ce=e(30819),ye=function(W){s()(L,W);var ae=x()(L);function L(){var Z;T()(this,L);for(var l=arguments.length,a=new Array(l),n=0;n<l;n++)a[n]=arguments[n];return Z=ae.call.apply(ae,[this].concat(a)),u()(o()(Z),"objects",{default:{}}),u()(o()(Z),"data",{}),u()(o()(Z),"state",{properties:null,selectedId:[],frame:"default",uiWindow:{height:1080,width:1920,ratio:1,team:"red",role:1,backgroundImage:!0},infoModalShow:!1,data:{},editable:!0}),u()(o()(Z),"canvas",null),u()(o()(Z),"canvasRef",(0,i.createRef)()),u()(o()(Z),"propertiesRef",(0,i.createRef)()),u()(o()(Z),"background",null),u()(o()(Z),"his",new De),u()(o()(Z),"moveTimer",null),u()(o()(Z),"moveTimeout",null),Z}return g()(L,[{key:"getNewDataId",value:function(){return Object.keys(this.state.data).length===0?0:Math.max.apply(Math,E()(Object.keys(this.state.data)))+1}},{key:"setEditable",value:function(){var Z=F()(U()().mark(function a(n){var f,w,z,H,B;return U()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(this.setState({editable:n}),this.his.catchUpdate=n,this.canvas.selection=n,V.fabric.Object.prototype.selectable=n,!n){se.next=9;break}return se.next=7,this.onHistoryEvent("refresh");case 7:se.next=15;break;case 9:return f=this.state.uiWindow.role,se.next=12,this.reset(!0);case 12:this.cancelHistoryUpdate(),this.props.setCouldDo({couldNext:!1,couldPrevious:!1}),this.setRobotId(f);case 15:w=this.canvas.getObjects(),z=I()(w);try{for(z.s();!(H=z.n()).done;)B=H.value,B.set("selectable",n)}catch(ie){z.e(ie)}finally{z.f()}this.select([]);case 19:case"end":return se.stop()}},a,this)}));function l(a){return Z.apply(this,arguments)}return l}()},{key:"setRobotId",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;l===0&&(l=this.state.uiWindow.role),typeof l=="string"&&(l=parseInt(l)),this.state.uiWindow.team==="blue"&&(l+=100),(0,h.ue)(l)}},{key:"cancelHistoryUpdate",value:function(){var l=this;this.his.cancelUpdate(),setTimeout(function(){l.his.cancelUpdate(),l.props.setCouldDo(l.his.get())},200)}},{key:"save",value:function(){(0,de.q7)(this.data,"ui.rmui",this.state.frame)}},{key:"updateHistory",value:function(){var l=this;setTimeout(function(){var a={version:2,data:l.data,selected:l.state.frame};me().isEqual(a,l.his.now)||(l.his.update(a),l.props.setCouldDo({couldNext:!1,couldPrevious:!0}))},100)}},{key:"getData",value:function(){return this.data}},{key:"select",value:function(l,a){var n=this;if(l.length===0)this.setState({properties:null,selectedId:[]}),this.canvas.discardActiveObject(),this.canvas.renderAll();else if(l[0]===-2)this.setState({properties:this.state.uiWindow,selectedId:[-2]}),this.canvas.discardActiveObject(),this.canvas.renderAll();else if(l.length===1)this.setState({properties:this.state.data[l[0]],selectedId:[l[0]]}),this.canvas.setActiveObject(this.objects[this.state.frame][l[0]]),this.canvas.renderAll();else if(this.setState({properties:null,selectedId:l}),!a){var f=l.map(function(z){return n.objects[n.state.frame][z]}),w=new V.fabric.ActiveSelection(f,{canvas:this.canvas});this.canvas.setActiveObject(w),this.canvas.renderAll()}}},{key:"reset",value:function(){var Z=F()(U()().mark(function a(){var n,f,w,z=arguments;return U()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(n=z.length>0&&z[0]!==void 0?z[0]:!1,n){f=this.canvas.getObjects();for(w in f)this.canvas.remove(f[w]);this.canvas.renderAll()}else this.canvas.clear(),this.setBackground(e(25665)),this.canvas.backgroundColor="#fff";if(Object.keys(this.objects).includes("default")){B.next=5;break}return B.next=5,this.onFrameEvent("add","default");case 5:return this.objects.default={},B.next=8,this.onFrameEvent("change","default");case 8:this.objects={default:{}},this.props.onFrameChange({frames:["default"],selected:"default"}),this.select([]),this.resetCanvasSize(),this.objectsToData();case 13:case"end":return B.stop()}},a,this)}));function l(){return Z.apply(this,arguments)}return l}()},{key:"resetCanvasSize",value:function(){if(this.canvas){var l,a=this.canvasRef.current.clientWidth,n=this.canvasRef.current.clientHeight,f=v()({},this.state.uiWindow);a/n<f.width/f.height?(n=a*f.height/f.width,f.ratio=f.width/a):(a=n*f.width/f.height,f.ratio=f.height/n),this.setState({uiWindow:f}),this.canvas.setHeight(n),this.canvas.setWidth(a),this.canvas.viewportTransform[5]=n,this.canvas.viewportTransform[3]=-1;var w=this.canvasRef.current.clientWidth,z=this.canvasRef.current.clientHeight,H=w-a,B=z-n,te=document.getElementById("coordinateDisplay");te.style.right="".concat(H+12,"px"),te.style.bottom="".concat(B+25,"px");for(var se=0,ie=Object.keys(this.objects[this.state.frame]);se<ie.length;se++){var ce=ie[se];this.objects[this.state.frame][ce].setRatio(f.ratio)}(l=this.background)===null||l===void 0||l.set({scaleX:1/f.ratio,scaleY:1/f.ratio}),this.canvas.renderAll(),this.objectsToData(),this.setState({infoModalShow:!1})}}},{key:"onPropertiesChange",value:function(l,a){var n=this;if(this.state.selectedId[0]===-2){if(a.team!==this.state.uiWindow.team){for(var f=0,w=Object.keys(this.objects[this.state.frame]);f<w.length;f++){var z=w[f];this.objects[this.state.frame][z].setTeam(a.team)}this.canvas.renderAll(),this.objectsToData()}if(this.setState({uiWindow:a,properties:a},function(){n.resetCanvasSize(),n.setRobotId()}),a.backgroundImage!==this.state.uiWindow.backgroundImage)if(a.backgroundImage){var H,B=this.state.uiWindow.ratio;(H=this.background)===null||H===void 0||H.set({scaleX:1/B,scaleY:1/B}),this.canvas.setBackgroundImage(this.background),this.canvas.renderAll()}else this.canvas.setBackgroundImage(null),this.canvas.renderAll();(a.width!==this.state.uiWindow.width||a.height!==this.state.uiWindow.height)&&h.oC.warning({title:"Warning",content:"Modify UI window width and height may cause unknown error."})}else this.state.selectedId.length===1&&(this.objects[this.state.frame][this.state.selectedId[0]].fromObject(a),this.canvas.renderAll(),this.objectsToData(),this.updateHistory())}},{key:"setBackground",value:function(l){var a=this;V.fabric.Image.fromURL(l,function(n,f){var w;a.background=n;var z=a.state.uiWindow.ratio;(w=a.background)===null||w===void 0||w.set({scaleX:1/z,scaleY:-1/z}),a.state.uiWindow.backgroundImage&&(a.canvas.setBackgroundImage(a.background),a.canvas.renderAll())})}},{key:"componentDidMount",value:function(){var l=this,a=this;this.canvas=new V.fabric.Canvas("ui"),this.setBackground(e(25665)),this.canvas.backgroundColor="#fff",window.addEventListener("resize",function(){l.resetCanvasSize()},!1),window.addEventListener("copy",function(n){var f=null;console.log(n.target,(0,de.jK)(n.target)),!(0,de.jK)(n.target)&&a.state.selectedId.length!==0&&a.state.selectedId[0]!==-2&&(n.preventDefault(),f=JSON.stringify(a.state.selectedId.map(function(w){return a.state.data[w]})),n.clipboardData.setData("text",f))}),window.addEventListener("paste",function(n){for(var f=!1,w=n.clipboardData.items,z=0;z<w.length;z++)if(w[z].type.indexOf("image")===0){n.preventDefault(),f=!0;var H=w[z].getAsFile(),B=new FileReader;B.onload=function(Re){a.setBackground(Re.target.result)},B.readAsDataURL(H)}if(!f&&!(0,de.jK)(n.target))try{n.preventDefault();var te=n.clipboardData.getData("text"),se=JSON.parse(te);Array.isArray(se)||(se=[se]);var ie=[],ce=20,je=I()(se),y;try{var Ae=function(){var Ue=y.value;setTimeout(function(){Ue.id=a.getNewDataId(),ie.push(Ue.id),a.onObjectEvent("_update",Ue)},ce),ce+=20};for(je.s();!(y=je.n()).done;)Ae()}catch(Re){je.e(Re)}finally{je.f()}setTimeout(function(){a.select(ie),l.updateHistory()},ce)}catch(Re){h.yw.warning("Invalid data")}}),window.addEventListener("keydown",function(n){if(n.key==="Delete"&&a.state.selectedId.length!==0&&a.state.selectedId[0]!==-2){var f=I()(a.state.selectedId),w;try{for(f.s();!(w=f.n()).done;){var z=w.value;a.onObjectEvent("remove",{id:z})}}catch(te){f.e(te)}finally{f.f()}l.updateHistory()}if(n.ctrlKey&&n.key==="z"&&!n.shiftKey?(n.preventDefault(),l.onHistoryEvent("previous")):n.ctrlKey&&(0,Ce.toLower)(n.key)==="z"&&n.shiftKey&&(n.preventDefault(),l.onHistoryEvent("next")),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n.key)&&!(0,de.jK)(n.target)){var H=function(se,ie){switch(ie*=a.state.uiWindow.ratio,se){case"ArrowUp":B.top+=ie;break;case"ArrowDown":B.top-=ie;break;case"ArrowLeft":B.left-=ie;break;case"ArrowRight":B.left+=ie;break}B instanceof V.fabric.ActiveSelection?B.getObjects().forEach(function(ce){ce.setCoords(),ce.resizeScale()}):(B.setCoords(),B.resizeScale()),a.canvas.renderAll(),a.objectsToData(),a.updateHistory()},B=a.canvas.getActiveObject();if(!B)return;n.preventDefault(),H(n.key,2),l.moveTimeout&&clearTimeout(l.moveTimeout),l.moveTimer&&clearInterval(l.moveTimer),l.moveTimeout=setTimeout(function(){l.moveTimer=setInterval(function(){H(n.key,1)},500)},1500)}}),window.addEventListener("keyup",function(n){["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n.key)&&(clearTimeout(l.moveTimeout),clearInterval(l.moveTimer))}),this.canvas.on({"mouse:up":function(){for(var f=0,w=Object.keys(a.objects[a.state.frame]);f<w.length;f++){var z=w[f];a.objects[a.state.frame][z].resizeScale()}a.canvas.renderAll(),a.objectsToData(),a.updateHistory();var H=a.canvas.getActiveObject();setTimeout(function(){if(H)if(H instanceof V.fabric.ActiveSelection){var B=H.getObjects().map(function(te){return te.id});a.select(B,!0)}else a.select([H.id]);else a.select([])},100)},"mouse:move":function(f){var w=l.canvas.getPointer(f.e),z=l.state.uiWindow.ratio,H=Math.round(w.x*z),B=Math.round(w.y*z),te=document.getElementById("coordinateDisplay");te.style.display="block",te.textContent="x: ".concat(H,", y: ").concat(B)},"mouse:out":function(){var f=document.getElementById("coordinateDisplay");f.style.display="none"}}),setTimeout(function(){var n=l.his.get();l.props.setCouldDo(n),ve(n.now,function(f,w){return l.onObjectEvent(f,w)},function(f){return a.onFrameEvent("change",f)},function(){return l.canvas.renderAll()}).then(function(){l.setRobotId(),l.resetCanvasSize()}),l.cancelHistoryUpdate()},50),setTimeout(function(){var n=l.his.get();l.props.setCouldDo(n),ve(n.now,function(f,w){return l.onObjectEvent(f,w)},function(f){return a.onFrameEvent("change",f)},function(){return l.canvas.renderAll()}).then(function(){l.setRobotId(),l.resetCanvasSize()}),l.cancelHistoryUpdate()},200),window.dispatch=function(n,f){l.onObjectEvent(n,f)}}},{key:"upload",value:function(l){var a=this,n=this,f=new FileReader;f.onload=function(){var w=F()(U()().mark(function z(H){return U()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,n.reset();case 2:return te.next=4,ve(JSON.parse(H.target.result),function(se,ie){return n.onObjectEvent(se,ie)},function(se){return n.onFrameEvent("change",se)},function(){return n.canvas.renderAll()}).then(function(){a.setRobotId()});case 4:n.objectsToData(),n.his.reset({version:2,data:a.data,selected:a.state.frame});case 6:case"end":return te.stop()}},z)}));return function(z){return w.apply(this,arguments)}}(),f.readAsText(l)}},{key:"objectsToData",value:function(){for(var l=this,a={},n=0,f=Object.keys(this.objects);n<f.length;n++){var w=f[n];a[w]={};for(var z=0,H=Object.keys(this.objects[w]);z<H.length;z++){var B=H[z],te=this.objects[w][B].toObject();a[w][te.id]=te}}if(this.data=a,this.setState({data:a[this.state.frame]}),this.state.selectedId.length===1){var se;this.state.selectedId[0]===-2?se=this.state.uiWindow:se=a[this.state.frame][this.state.selectedId[0]],this.setState({properties:v()({},se)},function(){var ie;(ie=l.propertiesRef.current)===null||ie===void 0||ie.reload()})}}},{key:"onObjectEvent",value:function(l,a){var n=this;function f(te){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ie={id:te.id,name:te.name,layer:te.layer,group:te.group,type:te.type,ratio:n.state.uiWindow.ratio,team:n.state.uiWindow.team},ce=(0,fe.R)(ie);n.objects[n.state.frame][te.id]=ce,se&&ce.fromObject(te),ce.setRatio(n.state.uiWindow.ratio);for(var je=n.canvas.getObjects(),y=!0,Ae=0,Re=Object.keys(je);Ae<Re.length;Ae++){var Ue=Re[Ae];if(je[Ue].id===ce.id){y=!1;break}}n.canvas.add(ce)}if(l==="add")if(typeof a.id=="number"&&a.id>=0&&!this.objects[this.state.frame][a.id])f(a,!0);else return console.log("id exists",a.id,this.objects[this.state.frame][a.id]),"W: Adding Object ".concat(a.id," exists");else if(l==="_add")a.id=this.getNewDataId(),a.ratio=this.state.uiWindow.ratio,a.team=this.state.uiWindow.team,f(a,!1);else if(l==="update")if(this.objects[this.state.frame][a.id])this.objects[this.state.frame][a.id].fromObject(a);else return"E: Updating object ".concat(a.id," not exists");else if(l==="_update")a.id>=0&&this.objects[this.state.frame][a.id]?this.objects[this.state.frame][a.id].fromObject(a):f(a);else if(l==="remove"){var w=a.id;if(this.objects[this.state.frame][w])this.select([]),this.canvas.remove(this.objects[this.state.frame][w]),this.canvas.renderAll(),delete this.objects[this.state.frame][w],this.objectsToData();else return"E: Remove object ".concat(w," not exists")}else if(l==="setAttr")this.objects[this.state.frame][a.id]&&this.objects[this.state.frame][a.id].set(a.payload);else if(l==="removeLayer")for(var z=0,H=Object.keys(this.objects[this.state.frame]);z<H.length;z++){var B=H[z];this.objects[this.state.frame][B].layer===a.layer&&this.onObjectEvent("remove",{id:B})}else l==="removeAll"&&this.reset(!0);return this.objectsToData(),this.canvas.renderAll(),"S"}},{key:"setFrame",value:function(l){this.objects[l]||(this.objects[l]={});for(var a=0,n=Object.keys(this.objects[this.state.frame]);a<n.length;a++){var f=n[a];this.canvas.remove(this.objects[this.state.frame][f])}this.canvas.renderAll();var w=this;return new Promise(function(z,H){w.setState({frame:l},function(){for(var B=w.canvas.getObjects(),te=0,se=Object.keys(w.objects[w.state.frame]);te<se.length;te++){for(var ie=se[te],ce=!0,je=0,y=Object.keys(B);je<y.length;je++){var Ae=y[je];if(B[Ae].id===w.objects[w.state.frame][ie].id){ce=!1;break}}ce&&w.canvas.add(w.objects[w.state.frame][ie])}w.objectsToData(),w.select([]),w.canvas.renderAll(),z()})})}},{key:"onHistoryEvent",value:function(){var Z=F()(U()().mark(function a(n){var f=this,w;return U()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(w=this.his.get(),n!=="update"){H.next=6;break}return this.updateHistory(),H.abrupt("return");case 6:if(n!=="reset"){H.next=12;break}return w=this.his.reset({version:2,data:{default:{}},selected:"default"}),this.props.setCouldDo(w),H.abrupt("return");case 12:if(n!=="resetNow"){H.next=16;break}return w=this.his.reset({version:2,data:this.data,selected:this.state.frame}),this.props.setCouldDo(w),H.abrupt("return");case 16:return n==="previous"?w=this.his.previous():n==="next"&&(w=this.his.next()),this.props.setCouldDo(w),H.next=20,this.reset(!0);case 20:return H.next=22,ve(w.now,function(B,te){return f.onObjectEvent(B,te)},function(B){return f.onFrameEvent("change",B)},function(){return f.canvas.renderAll()}).then(function(){f.setRobotId()});case 22:this.cancelHistoryUpdate(),this.props.setCouldDo(w);case 24:case"end":return H.stop()}},a,this)}));function l(a){return Z.apply(this,arguments)}return l}()},{key:"onFrameEvent",value:function(){var Z=F()(U()().mark(function a(n,f){var w,z,H,B,te,se;return U()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(n!=="add"){ce.next=6;break}return this.objects[f]={},ce.next=4,this.setFrame(f);case 4:ce.next=40;break;case 6:if(n!=="remove"){ce.next=19;break}if(Object.keys(this.objects).length!==1){ce.next=10;break}return h.yw.error("Cannot remove last frame!"),ce.abrupt("return");case 10:if(w=f,this.state.frame!==f){ce.next=16;break}return f=Object.keys(this.objects)[0],f===w&&(f=Object.keys(this.objects)[1]),ce.next=16,this.setFrame(f);case 16:delete this.objects[w],ce.next=40;break;case 19:if(n!=="change"){ce.next=24;break}return ce.next=22,this.setFrame(f);case 22:ce.next=40;break;case 24:if(n!=="copy"){ce.next=34;break}return this.objects[f]={},z=this.objects[this.state.frame],ce.next=29,this.setFrame(f);case 29:for(H=0,B=Object.keys(z);H<B.length;H++)te=B[H],this.onObjectEvent("_update",z[te].toObject());this.objectsToData(),this.canvas.renderAll(),ce.next=40;break;case 34:if(n!=="rename"){ce.next=40;break}return se=this.state.frame,ce.next=38,this.onFrameEvent("copy",f);case 38:return ce.next=40,this.onFrameEvent("remove",se);case 40:this.props.onFrameChange({frames:Object.keys(this.objects),selected:f}),this.objectsToData(),this.updateHistory();case 43:case"end":return ce.stop()}},a,this)}));function l(a,n){return Z.apply(this,arguments)}return l}()},{key:"render",value:function(){var l,a=this;return(l=this.canvas)===null||l===void 0||l.renderAll(),(0,c.jsx)("div",{style:{width:"100vw",height:"calc(100% - 20px)",padding:10},children:(0,c.jsxs)(A.eh,{autoSaveId:"container_h",className:"container",direction:"horizontal",children:[(0,c.jsx)(A.s_,{defaultSize:25,minSize:15,maxSize:45,order:1,children:(0,c.jsxs)(A.eh,{autoSaveId:"card_v",className:"full",direction:"vertical",children:[(0,c.jsx)(A.s_,{defaultSize:50,minSize:25,maxSize:75,children:(0,c.jsx)(re,{onSelect:function(f){return a.select(f)},onObjectEvent:function(f,w){return a.onObjectEvent(f,w)},onReset:function(){return a.reset()},data:this.state.data,editable:this.state.editable,selectedId:this.state.selectedId})}),(0,c.jsx)(A.OT,{className:"panel-resize-handle",style:{height:6}}),(0,c.jsx)(A.s_,{defaultSize:50,children:(0,c.jsx)(m.Z,{size:"small",title:"Properties",style:{height:"100%"},children:(0,c.jsxs)("div",{className:"card-body",children:[this.state.properties?(0,c.jsx)(j.vY,{dataSource:this.state.properties,columns:(0,he.W)(this.state.properties),ref:this.propertiesRef,editable:this.props.editable?{onSave:function(f,w){return a.onPropertiesChange(f,w)}}:null,column:1,style:{marginTop:4}},this.state.selectedId[0]):(0,c.jsx)(M.Z,{image:M.Z.PRESENTED_IMAGE_SIMPLE}),this.state.selectedId[0]===-2?(0,c.jsxs)(b.Z,{direction:"vertical",size:"middle",style:{display:"flex"},children:[(0,c.jsx)(C.ZP,{onClick:function(){return(0,de.cT)("image/*").then(function(f){a.setState({imageUploadShow:!1}),a.setBackground((0,de.lZ)(f))}).catch(function(f){})},children:"Upload Background"}),(0,c.jsx)(C.ZP,{onClick:function(){return a.setBackground(e(25665))},children:"Reset Background"})]}):(0,c.jsx)("div",{})]})})})]})}),(0,c.jsx)(A.OT,{className:"panel-resize-handle",style:{width:6}}),(0,c.jsx)(A.s_,{defaultSize:75,order:2,onResize:function(f){return setTimeout(function(){return a.resetCanvasSize()},100)},children:(0,c.jsxs)("div",{className:"full",ref:this.canvasRef,children:[(0,c.jsx)("canvas",{className:"full",id:"ui"}),(0,c.jsx)("div",{id:"coordinateDisplay",style:{bottom:0,right:0,display:"none",padding:"1px 6px 1px 6px"}})]})})]})})}}]),L}(i.Component),Me=ye},12997:function(le,q,e){e.a(le,function(Q,v){return ze(this,null,function*(){try{e.r(q);var _=e(12444),U=e.n(_),Y=e(72004),I=e.n(Y),X=e(25098),F=e.n(X),$=e(31996),E=e.n($),r=e(26037),T=e.n(r),G=e(9783),g=e.n(G),p=e(67294),o=e(9361),t=e(31282),s=e(62338),d=e(65848),x=e(18877),R=e(4585),u=e(41327),i=e(40249),m=e(58377),M=e(54030),b=e(28348),C=e(18253),h=e(85893),A=Q([m]);m=(A.then?(yield A)():A)[0];var j=o.Z.darkAlgorithm,S=o.Z.compactAlgorithm,O=function(N){E()(ee,N);var D=T()(ee);function ee(){var P;U()(this,ee);for(var J=arguments.length,K=new Array(J),c=0;c<J;c++)K[c]=arguments[c];return P=D.call.apply(D,[this].concat(K)),g()(F()(P),"state",{simulate:!1,darkMode:P.isBrowserDarkMode(),isMounted:!1}),g()(F()(P),"modal",null),g()(F()(P),"renderRef",p.createRef()),g()(F()(P),"menuRef",p.createRef()),P}return I()(ee,[{key:"isBrowserDarkMode",value:function(){try{return window.matchMedia("(prefers-color-scheme: dark)").matches}catch(J){return!1}}},{key:"componentDidMount",value:function(){var J=this,K=this,c=0;window.addEventListener("drop",function(ue){return ue.preventDefault()},!1),window.addEventListener("dragover",function(ue){return ue.preventDefault()},!1),window.addEventListener("contextmenu",function(ue){ue.target.tagName.toLowerCase()!=="input"&&ue.preventDefault()},!1);function oe(ue){!K.modal&&ue<880&&ue!==c&&(c=ue,K.modal=b.oC.warning({title:"Display Aera too Small",content:"Cannot show all contents on this window. Please resize this window or rotate your phone.",footer:null,zIndex:2500})),K.modal&&ue>=880&&(K.modal.destroy(),K.modal=null)}setTimeout(function(){return oe(window.innerWidth)},500),window.addEventListener("resize",function(){oe(window.innerWidth)},!1);var xe=window.matchMedia("(prefers-color-scheme: dark)");xe.addEventListener("change",function(ue){K.setState({darkMode:ue.matches})}),setTimeout(function(){J.setState({isMounted:!0})},500)}},{key:"setDarkMode",value:function(J){this.setState({darkMode:J})}},{key:"render",value:function(){var J=this;return this.state.isMounted?(0,h.jsx)(t.ZP,{locale:C.Z,theme:{cssVar:{key:"rmui"},hashed:!1,algorithm:this.state.darkMode?[j,S]:S},children:(0,h.jsxs)(s.Z,{children:[(0,h.jsx)("div",{className:"rmui",children:(0,h.jsxs)("div",{className:"container background-color",style:{height:"100vh",paddingBottom:12,overflow:"hidden"},children:[(0,h.jsx)(m.Z,{save:function(){return J.renderRef.current.save()},onObjectEvent:function(c,oe){return J.renderRef.current.onObjectEvent(c,oe)},onHistoryEvent:function(c){return J.renderRef.current.onHistoryEvent(c)},reset:function(){return J.renderRef.current.reset()},setFrame:function(c,oe){return J.renderRef.current.onFrameEvent(c,oe)},upload:function(c){return J.renderRef.current.upload(c)},getData:function(){return J.renderRef.current.getData()},setEditable:function(c){return J.renderRef.current.setEditable(c)},setDarkMode:function(c){return J.setDarkMode(c)},ref:this.menuRef,darkMode:this.state.darkMode}),(0,h.jsx)(d.Z,{content:["RM Ui Designer","v1.2.19"],zIndex:0,style:{height:"100%"},gap:[30,30],children:(0,h.jsx)("div",{id:"content-in",style:{width:"100vw",height:"100%",zIndex:2,position:"relative"},children:(0,h.jsx)(x.Z,{style:{width:"100vw",height:"100%"},editable:!0,ref:this.renderRef,onFrameChange:function(c){var oe;return(oe=J.menuRef.current)===null||oe===void 0?void 0:oe.setFrames(c)},setCouldDo:function(c){var oe;(oe=J.menuRef.current)===null||oe===void 0||oe.setCouldDo(c)},setRobotId:function(c){var oe;(oe=J.menuRef.current)===null||oe===void 0||oe.setRobotId(c)}})})})]})}),(0,h.jsx)(M.Z,{}),(0,h.jsx)(R.Z,{}),(0,h.jsx)(u.Z,{})]})}):(0,h.jsx)(i.Z,{})}}]),ee}(p.Component);q.default=O,v()}catch(N){v(N)}})})},28348:function(le,q,e){e.d(q,{eq:function(){return Y},oC:function(){return U},ue:function(){return I},yw:function(){return v}});var Q=e(62338),v,_,U,Y=1;q.ZP=function(){var X=Q.Z.useApp();return v=X.message,U=X.modal,_=X.notification,null};function I(X){Y=parseInt(X)}},37932:function(le,q,e){e.d(q,{X:function(){return o},_:function(){return t}});var Q=e(15009),v=e.n(Q),_=e(5574),U=e.n(_),Y=e(99289),I=e.n(Y),X=e(12444),F=e.n(X),$=e(72004),E=e.n($),r=e(9783),T=e.n(r),G=e(17990),g=e(28348),p=e(30789),o=function(){function s(d){F()(this,s),T()(this,"getContentFunc",void 0),T()(this,"fileHandle",void 0),T()(this,"timerId",void 0),T()(this,"updateTimerId",void 0),this.getContentFunc=d,this.fileHandle=null,this.timerId=null,this.updateTimerId=null}return E()(s,[{key:"open",value:function(){var d=I()(v()().mark(function R(){var u,i,m,M,b;return v()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.fileHandle=null,h.prev=1,!(0,p.UP)()){h.next=9;break}return h.next=5,G.WZ.open({multiple:!1,directory:!1,filters:[{name:"rmui file",extensions:["json","rmui"]}]});case 5:u=h.sent,u!==null&&u.length>0&&typeof u=="string"&&(this.fileHandle=u.replace(/\\/g,"/"),i=this.fileHandle.split("/").pop(),document.title="".concat(i," - RM UI Designer")),h.next=18;break;case 9:return h.next=11,window.showOpenFilePicker({types:[{description:"rmui file",accept:{"application/json":[".json",".rmui"]}}]});case 11:return m=h.sent,M=U()(m,1),this.fileHandle=M[0],h.next=16,this.fileHandle.getFile();case 16:b=h.sent.name,document.title="".concat(b," - RM UI Designer");case 18:this.enableAutoSave(),h.next=23;break;case 21:h.prev=21,h.t0=h.catch(1);case 23:return h.abrupt("return",this.fileHandle!==null);case 24:case"end":return h.stop()}},R,this,[[1,21]])}));function x(){return d.apply(this,arguments)}return x}()},{key:"create",value:function(){var d=I()(v()().mark(function R(){var u,i,m;return v()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(this.fileHandle=null,b.prev=1,!(0,p.UP)()){b.next=9;break}return b.next=5,G.WZ.save({filters:[{name:"rmui file",extensions:["rmui"]}]});case 5:u=b.sent,u!==null&&(this.fileHandle=u.replace(/\\/g,"/"),i=this.fileHandle.split("/").pop(),document.title="".concat(i," - RM UI Designer")),b.next=16;break;case 9:return b.next=11,window.showSaveFilePicker({types:[{description:"rmui file",accept:{"application/json":[".rmui"]}}]});case 11:return this.fileHandle=b.sent,b.next=14,this.fileHandle.getFile();case 14:m=b.sent.name,document.title="".concat(m," - RM UI Designer");case 16:return b.next=18,this.write(JSON.stringify({version:2,data:{default:{}},selected:"default"}));case 18:this.enableAutoSave(),b.next=23;break;case 21:b.prev=21,b.t0=b.catch(1);case 23:return b.abrupt("return",this.fileHandle!==null);case 24:case"end":return b.stop()}},R,this,[[1,21]])}));function x(){return d.apply(this,arguments)}return x}()},{key:"enableAutoSave",value:function(){var x=this;this.timerId=setInterval(I()(v()().mark(function R(){var u;return v()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return u=x.getContentFunc(),m.next=3,x.write(u);case 3:case"end":return m.stop()}},R)})),6e4),g.yw.success("Auto save enabled")}},{key:"disableAutoSave",value:function(){var d=I()(v()().mark(function R(){return v()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.save();case 2:this.timerId&&(clearInterval(this.timerId),this.timerId=null),this.updateTimerId&&(clearTimeout(this.updateTimerId),this.updateTimerId=null),g.yw.warning("Auto save disabled");case 5:case"end":return i.stop()}},R,this)}));function x(){return d.apply(this,arguments)}return x}()},{key:"update",value:function(){var x=this;this.timerId!==null&&(this.updateTimerId!==null&&(clearTimeout(this.updateTimerId),this.updateTimerId=null),this.updateTimerId=setTimeout(I()(v()().mark(function R(){var u;return v()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return u=x.getContentFunc(),m.next=3,x.write(u);case 3:case"end":return m.stop()}},R)})),2e3))}},{key:"save",value:function(){var d=I()(v()().mark(function R(){var u;return v()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return u=this.getContentFunc(),m.next=3,this.write(u);case 3:case"end":return m.stop()}},R,this)}));function x(){return d.apply(this,arguments)}return x}()},{key:"write",value:function(){var d=I()(v()().mark(function R(u){var i;return v()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(this.fileHandle){M.next=2;break}throw new Error("File is not open");case 2:if(typeof this.fileHandle!="string"){M.next=7;break}return M.next=5,G.fs.writeTextFile(this.fileHandle,u);case 5:M.next=14;break;case 7:return M.next=9,this.fileHandle.createWritable();case 9:return i=M.sent,M.next=12,i.write(u);case 12:return M.next=14,i.close();case 14:case"end":return M.stop()}},R,this)}));function x(R){return d.apply(this,arguments)}return x}()},{key:"read",value:function(){var d=I()(v()().mark(function R(){var u,i;return v()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(this.fileHandle){M.next=2;break}throw new Error("File is not open");case 2:if(typeof this.fileHandle!="string"){M.next=10;break}return M.next=5,G.fs.readTextFile(this.fileHandle);case 5:return u=M.sent,i=new Blob([u],{type:"text/plain;charset=utf-8"}),M.abrupt("return",new File([i],this.fileHandle));case 10:return M.next=12,this.fileHandle.getFile();case 12:return M.abrupt("return",M.sent);case 13:case"end":return M.stop()}},R,this)}));function x(){return d.apply(this,arguments)}return x}()}]),s}();function t(){return"showOpenFilePicker"in window||(0,p.UP)()}},52880:function(le,q,e){e.d(q,{r:function(){return o},h:function(){return p}});var Q=e(19632),v=e.n(Q),_=e(73676);function U(t){var s=new Uint8Array(15),d=0,x=t.group.split("-");s[d++]=Math.round(Number(x[0])),s[d++]=Math.round(Number(x[1])),s[d++]=Math.round(t.id);var R=Math.round(t.operate_tpyel)|Math.round(t.figure_tpye)<<3|Math.round(t.layer)<<6|Math.round(t.color)<<10|Math.round(t._a)<<14|Math.round(t._b)<<23;s[d++]=R&255,s[d++]=R>>8&255,s[d++]=R>>16&255,s[d++]=R>>24&255;var u=Math.round(t.width)|Math.round(t.start_x)<<10|Math.round(t.start_y)<<21;s[d++]=u&255,s[d++]=u>>8&255,s[d++]=u>>16&255,s[d++]=u>>24&255;var i=Math.round(t._c)|Math.round(t._d)<<10|Math.round(t._e)<<21;return s[d++]=i&255,s[d++]=i>>8&255,s[d++]=i>>16&255,s[d++]=i>>24&255,s}function Y(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"add",d=t.group,x=t.id&255,R=_.i_.indexOf(t.type),u=_.JM.indexOf(t.color),i=t.layer,m;t.fontSize?m=Math.round(t.fontSize/10):m=t.lineWidth;var M=t.x,b=t.y,C=0,h=0,A=0,j=0,S=0;switch(t.type.slice(2)){case"Line":j=t.x2||0,S=t.y2||0;break;case"Rect":j=(t.width||0)+M,S=(t.height||0)+b;break;case"Round":A=t.r||0;break;case"Ellipse":j=t.rx||0,S=t.ry||0;break;case"Arc":C=t.startAngle||0,h=t.endAngle||0,j=t.rx||0,S=t.ry||0;break;case"Float":C=t.fontSize||0;var O=(t.float||0)*1e3;A=O&1023,j=O>>10&2047,S=O>>21&2047;break;case"Number":C=t.fontSize||0;var N=t.number||0;A=N&1023,j=N>>10&2047,S=N>>21&2047;break;case"Text":C=t.fontSize||0,h=(t.text||"").length;break}return{group:d,id:x,operate_tpyel:_.$m.indexOf(s),figure_tpye:R,layer:i,color:u,_a:C,_b:h,width:m,start_x:M,start_y:b,_c:A,_d:j,_e:S,number:A}}function I(t){return U(Y(t))}var X=e(85378),F=e(28348);function $(t){var s=new Uint8Array(0);if(t.forEach(function(i){s=new Uint8Array([].concat(v()(s),v()(I(i))))}),2<t.length&&t.length<5){for(var d=new Uint8Array(15*(5-t.length)),x=0;x<15*(5-t.length);x++)d[x]=0;s=new Uint8Array([].concat(v()(s),v()(d)))}if(5<t.length&&t.length<7){for(var R=new Uint8Array(15*(7-t.length)),u=0;u<15*(7-t.length);u++)R[u]=0;s=new Uint8Array([].concat(v()(s),v()(R)))}return s}function E(t){var s=new Uint8Array([].concat(v()(I(t[0])),v()(new Uint8Array(30))));if(t[0].text)for(var d=15;d<t[0].text.length+15;d++)s[d]=t[0].text.charCodeAt(d);return s}function r(t){return t[0].text?E(t):$(t)}var T=0,G=769;function g(t){var s=new Uint8Array(13),d=new Uint8Array(2);s[0]=165;var x=t.length+6;s[1]=x&255,s[2]=x>>8&255,s[3]=T,s[4]=(0,X.d)(s.subarray(0,4)),s[5]=G&255,s[6]=G>>8&255;var R=0;t.length===2?R=256:t.length===15?R=257:t.length===30?R=258:t.length===75?R=259:t.length===105?R=260:t.length===45&&(R=272),s[7]=R&255,s[8]=R>>8&255,s[9]=F.eq&255,s[10]=F.eq>>8&255,s[11]=F.eq+256&255,s[12]=F.eq+256>>8&255;var u=new Uint8Array([].concat(v()(s),v()(t),v()(d))),i=(0,X.I)(u.subarray(0,u.length-2));return u[u.length-2]=i&255,u[u.length-1]=i>>8&255,T++,T>=256&&(T=0),u}function p(t){var s=r(t);return g(s)}function o(){return g(new Uint8Array([2,0]))}},85378:function(le,q,e){e.d(q,{I:function(){return U},d:function(){return v}});var Q=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];function v(Y){for(var I=255,X=0,F,$=Y.byteLength;$--;)F=I^Y[X],I=Q[F],X++;return I}var _=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];function U(Y){for(var I=65535,X,F=0,$=Y.byteLength;$--;)X=Y[F],I=I>>8^_[(I^X)&255],F++;return I}},73676:function(le,q,e){e.d(q,{$m:function(){return I},EY:function(){return T},JM:function(){return Y},Pg:function(){return G},i_:function(){return U}});var Q=e(19632),v=e.n(Q),_=e(85378),U=["UiLine","UiRect","UiRound","UiEllipse","UiArc","UiFloat","UiNumber","UiText"],Y=["main","yellow","green","orange","purple","pink","cyan","black","white"],I=["null","add","update","remove"],X={257:1,258:2,259:5,260:7},F=["null","removeLayer","removeAll"];function $(g,p){return g[p]|g[p+1]<<8}function E(g,p){return g[p]|g[p+1]<<8|g[p+2]<<16|g[p+3]<<24}function r(g){var p=0,o=g[p++],t=g[p++],s="".concat(o,"-").concat(t),d=g[p++]|t<<8|o<<16,x=E(g,p);p+=4;var R=x&7,u=x>>3&7,i=x>>6&15,m=x>>10&15,M=x>>14&511,b=x>>23&511,C=E(g,p);p+=4;var h=C&1023,A=C>>10&2047,j=C>>21&2047,S=E(g,p),O=S&1023,N=S>>10&2047,D=S>>21&2047;return{group:s,id:d,operate_tpyel:R,figure_tpye:u,layer:i,color:m,_a:M,_b:b,width:h,start_x:A,start_y:j,_c:O,_d:N,_e:D,number:S}}function T(g){var p=$(g,0),o=$(g,2),t=$(g,4),s=[];if(p===256)s.push({type:F[g[6]],obj:{layer:g[7]}});else if(p===272){var d=r(g.subarray(6,21)),x=String.fromCharCode.apply(String,v()(g.subarray(21,21+d._b)));s.push({type:I[d.operate_tpyel],obj:{layer:d.layer,group:d.group,type:U[d.figure_tpye],id:d.id,name:"".concat(U[d.figure_tpye],"_").concat(d.id&255),color:Y[d.color],lineWidth:d.width,x:d.start_x,y:d.start_y,fontSize:d._a,text:x,_start:6,_end:g.length}})}else if(p in X)for(var R=X[p],u=0;u<R;u++){var i=r(g.subarray(6+u*15,6+(u+1)*15)),m={layer:i.layer,group:i.group,type:U[i.figure_tpye],id:i.id,name:"".concat(U[i.figure_tpye],"_").concat(i.id&255),color:Y[i.color],lineWidth:i.width,x:i.start_x,y:i.start_y,_start:6+u*15,_end:6+(u+1)*15};switch(U[i.figure_tpye].slice(2)){case"Line":m.x2=i._d,m.y2=i._e;break;case"Rect":m.width=i._d-i.start_x,m.height=i._e-i.start_y;break;case"Round":m.r=i._c;break;case"Ellipse":m.rx=i._d,m.ry=i._e;break;case"Arc":m.startAngle=i._a,m.endAngle=i._b,m.rx=i._d,m.ry=i._e;break;case"Float":m.fontSize=i._a,m.float=i.number/1e3;break;case"Number":m.fontSize=i._a,m.number=i.number;break}s.push({type:I[i.operate_tpyel],obj:m})}else console.log("unknown sub_id",p);return{sender:o,receiver:t,sub_id:p,events:s}}function G(g){var p=[8,21,36,81,111,51];if(g[0]!==165)return{code:1,error:"Message must start with 0xA5",loc:[0]};if(g.length<7)return{code:2,error:"Message length must be at least 7 bytes",loc:[0]};var o=g[1]|g[2]<<8,t=g[3],s=g[4],d=g[5]|g[6]<<8,x=g.subarray(0,4);if((0,_.d)(x)!==s)return{code:3,error:"crc8 error, calc: 0x".concat((0,_.d)(x).toString(16),", msg: 0x").concat(s.toString(16)),loc:[4]};if(d!==769)return{code:4,error:"cmd_id 0x".concat(d.toString(16)," not match"),loc:[5,6]};if(!p.includes(o))return{code:5,error:"length error, length: ".concat(o),loc:[1,2]};if(g.length<6+o+2)return{code:6,error:"Message is not complete",loc:[g.length-1]};var R=g[7+o]|g[8+o]<<8;return(0,_.I)(g.subarray(0,7+o))!==R?{code:7,error:"crc16 error, calc: 0x".concat((0,_.I)(g.subarray(0,7+o)).toString(16),", msg: 0x").concat(R.toString(16)),loc:[7+o,8+o],header:{length:o,seq:t,cmd_id:d}}:{code:0,msg:g.subarray(7+o+2),header:{length:o,seq:t,cmd_id:d}}}},13799:function(le,q,e){e.d(q,{r:function(){return F}});var Q=e(67294),v=Object.defineProperty,_=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,I=(E,r,T)=>r in E?v(E,r,{enumerable:!0,configurable:!0,writable:!0,value:T}):E[r]=T,X=(E,r)=>{for(var T in r||(r={}))U.call(r,T)&&I(E,T,r[T]);if(_)for(var T of _(r))Y.call(r,T)&&I(E,T,r[T]);return E};const F=E=>Q.createElement("svg",X({className:"moon_svg__icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:200,height:200},E),Q.createElement("path",{d:"M472 991.6c-157 0-304.4-77.2-394.3-206.6-6.9-9.9-7.6-22.9-1.8-33.6 5.8-10.7 17.1-17.8 29.2-16.7l7.7.4c2.4.2 4.8.3 7.2.3 229.4 0 416-186.6 416-416 0-85-25.7-167-74.3-236.9-6.9-9.9-7.6-22.9-1.8-33.6 5.8-10.7 17.2-17.6 29.2-16.7C748.7 41.6 952 252.1 952 511.6c0 264.7-215.3 480-480 480zM169.7 797.1c78.1 82.7 187.2 130.6 302.3 130.6 229.4 0 416-186.6 416-416 0-204-144.9-373-339.7-408.6 34 66.9 51.7 140.7 51.7 216.6 0 247.8-188.9 452.4-430.3 477.4z",fill:"#2c2c2c"}));var $="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PHBhdGggZD0iTTQ3MiA5OTEuNmMtMTU3IDAtMzA0LjQtNzcuMi0zOTQuMy0yMDYuNi02LjktOS45LTcuNi0yMi45LTEuOC0zMy42IDUuOC0xMC43IDE3LjEtMTcuOCAyOS4yLTE2LjdsNy43LjRjMi40LjIgNC44LjMgNy4yLjMgMjI5LjQgMCA0MTYtMTg2LjYgNDE2LTQxNiAwLTg1LTI1LjctMTY3LTc0LjMtMjM2LjktNi45LTkuOS03LjYtMjIuOS0xLjgtMzMuNiA1LjgtMTAuNyAxNy4yLTE3LjYgMjkuMi0xNi43Qzc0OC43IDQxLjYgOTUyIDI1Mi4xIDk1MiA1MTEuNmMwIDI2NC43LTIxNS4zIDQ4MC00ODAgNDgwek0xNjkuNyA3OTcuMWM3OC4xIDgyLjcgMTg3LjIgMTMwLjYgMzAyLjMgMTMwLjYgMjI5LjQgMCA0MTYtMTg2LjYgNDE2LTQxNiAwLTIwNC0xNDQuOS0zNzMtMzM5LjctNDA4LjYgMzQgNjYuOSA1MS43IDE0MC43IDUxLjcgMjE2LjYgMCAyNDcuOC0xODguOSA0NTIuNC00MzAuMyA0NzcuNHoiIGZpbGw9IiMyYzJjMmMiLz48L3N2Zz4="},82843:function(le,q,e){e.d(q,{r:function(){return F}});var Q=e(67294),v=Object.defineProperty,_=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,I=(E,r,T)=>r in E?v(E,r,{enumerable:!0,configurable:!0,writable:!0,value:T}):E[r]=T,X=(E,r)=>{for(var T in r||(r={}))U.call(r,T)&&I(E,T,r[T]);if(_)for(var T of _(r))Y.call(r,T)&&I(E,T,r[T]);return E};const F=E=>Q.createElement("svg",X({className:"sun_svg__icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:200,height:200},E),Q.createElement("path",{d:"M522.88 874.667A21.333 21.333 0 0 1 544.213 896v85.333a21.333 21.333 0 0 1-21.333 21.334h-21.333a21.333 21.333 0 0 1-21.334-21.334V896a21.333 21.333 0 0 1 21.334-21.333h21.333zm268.416-107.52 60.352 60.352a21.333 21.333 0 0 1 0 30.165l-15.083 15.083a21.333 21.333 0 0 1-30.186 0l-60.331-60.352a21.333 21.333 0 0 1 0-30.166l15.083-15.082a21.333 21.333 0 0 1 30.165 0zm-527.957 0 15.082 15.082a21.333 21.333 0 0 1 0 30.166l-60.352 60.352a21.333 21.333 0 0 1-30.165 0l-15.083-15.083a21.333 21.333 0 0 1 0-30.165l60.331-60.352a21.333 21.333 0 0 1 30.187 0zM512 277.333c141.376 0 256 114.624 256 256s-114.624 256-256 256-256-114.624-256-256 114.624-256 256-256zm0 64a192 192 0 1 0 0 384 192 192 0 0 0 0-384zm448.213 160a21.333 21.333 0 0 1 21.334 21.334V544a21.333 21.333 0 0 1-21.334 21.333H874.88A21.333 21.333 0 0 1 853.547 544v-21.333a21.333 21.333 0 0 1 21.333-21.334h85.333zm-810.666 0a21.333 21.333 0 0 1 21.333 21.334V544a21.333 21.333 0 0 1-21.333 21.333H64.213A21.333 21.333 0 0 1 42.88 544v-21.333a21.333 21.333 0 0 1 21.333-21.334h85.334zm687.04-307.413 15.082 15.083a21.333 21.333 0 0 1 0 30.165l-60.352 60.352a21.333 21.333 0 0 1-30.165 0l-15.083-15.083a21.333 21.333 0 0 1 0-30.165L806.4 193.92a21.333 21.333 0 0 1 30.187 0zm-618.496 0 60.352 60.352a21.333 21.333 0 0 1 0 30.165L263.36 299.52a21.333 21.333 0 0 1-30.187 0l-60.352-60.373a21.333 21.333 0 0 1 0-30.166l15.083-15.082a21.333 21.333 0 0 1 30.165 0zM522.9 64a21.333 21.333 0 0 1 21.334 21.333v85.334A21.333 21.333 0 0 1 522.9 192h-21.333a21.333 21.333 0 0 1-21.333-21.333V85.333A21.333 21.333 0 0 1 501.568 64h21.333z",fill:"#ebebeb"}));var $="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PHBhdGggZD0iTTUyMi44OCA4NzQuNjY3QTIxLjMzMyAyMS4zMzMgMCAwIDEgNTQ0LjIxMyA4OTZ2ODUuMzMzYTIxLjMzMyAyMS4zMzMgMCAwIDEtMjEuMzMzIDIxLjMzNGgtMjEuMzMzYTIxLjMzMyAyMS4zMzMgMCAwIDEtMjEuMzM0LTIxLjMzNFY4OTZhMjEuMzMzIDIxLjMzMyAwIDAgMSAyMS4zMzQtMjEuMzMzaDIxLjMzM3ptMjY4LjQxNi0xMDcuNTIgNjAuMzUyIDYwLjM1MmEyMS4zMzMgMjEuMzMzIDAgMCAxIDAgMzAuMTY1bC0xNS4wODMgMTUuMDgzYTIxLjMzMyAyMS4zMzMgMCAwIDEtMzAuMTg2IDBsLTYwLjMzMS02MC4zNTJhMjEuMzMzIDIxLjMzMyAwIDAgMSAwLTMwLjE2NmwxNS4wODMtMTUuMDgyYTIxLjMzMyAyMS4zMzMgMCAwIDEgMzAuMTY1IDB6bS01MjcuOTU3IDAgMTUuMDgyIDE1LjA4MmEyMS4zMzMgMjEuMzMzIDAgMCAxIDAgMzAuMTY2bC02MC4zNTIgNjAuMzUyYTIxLjMzMyAyMS4zMzMgMCAwIDEtMzAuMTY1IDBsLTE1LjA4My0xNS4wODNhMjEuMzMzIDIxLjMzMyAwIDAgMSAwLTMwLjE2NWw2MC4zMzEtNjAuMzUyYTIxLjMzMyAyMS4zMzMgMCAwIDEgMzAuMTg3IDB6TTUxMiAyNzcuMzMzYzE0MS4zNzYgMCAyNTYgMTE0LjYyNCAyNTYgMjU2cy0xMTQuNjI0IDI1Ni0yNTYgMjU2LTI1Ni0xMTQuNjI0LTI1Ni0yNTYgMTE0LjYyNC0yNTYgMjU2LTI1NnptMCA2NGExOTIgMTkyIDAgMSAwIDAgMzg0IDE5MiAxOTIgMCAwIDAgMC0zODR6bTQ0OC4yMTMgMTYwYTIxLjMzMyAyMS4zMzMgMCAwIDEgMjEuMzM0IDIxLjMzNFY1NDRhMjEuMzMzIDIxLjMzMyAwIDAgMS0yMS4zMzQgMjEuMzMzSDg3NC44OEEyMS4zMzMgMjEuMzMzIDAgMCAxIDg1My41NDcgNTQ0di0yMS4zMzNhMjEuMzMzIDIxLjMzMyAwIDAgMSAyMS4zMzMtMjEuMzM0aDg1LjMzM3ptLTgxMC42NjYgMGEyMS4zMzMgMjEuMzMzIDAgMCAxIDIxLjMzMyAyMS4zMzRWNTQ0YTIxLjMzMyAyMS4zMzMgMCAwIDEtMjEuMzMzIDIxLjMzM0g2NC4yMTNBMjEuMzMzIDIxLjMzMyAwIDAgMSA0Mi44OCA1NDR2LTIxLjMzM2EyMS4zMzMgMjEuMzMzIDAgMCAxIDIxLjMzMy0yMS4zMzRoODUuMzM0em02ODcuMDQtMzA3LjQxMyAxNS4wODIgMTUuMDgzYTIxLjMzMyAyMS4zMzMgMCAwIDEgMCAzMC4xNjVsLTYwLjM1MiA2MC4zNTJhMjEuMzMzIDIxLjMzMyAwIDAgMS0zMC4xNjUgMGwtMTUuMDgzLTE1LjA4M2EyMS4zMzMgMjEuMzMzIDAgMCAxIDAtMzAuMTY1TDgwNi40IDE5My45MmEyMS4zMzMgMjEuMzMzIDAgMCAxIDMwLjE4NyAwem0tNjE4LjQ5NiAwIDYwLjM1MiA2MC4zNTJhMjEuMzMzIDIxLjMzMyAwIDAgMSAwIDMwLjE2NUwyNjMuMzYgMjk5LjUyYTIxLjMzMyAyMS4zMzMgMCAwIDEtMzAuMTg3IDBsLTYwLjM1Mi02MC4zNzNhMjEuMzMzIDIxLjMzMyAwIDAgMSAwLTMwLjE2NmwxNS4wODMtMTUuMDgyYTIxLjMzMyAyMS4zMzMgMCAwIDEgMzAuMTY1IDB6TTUyMi45IDY0YTIxLjMzMyAyMS4zMzMgMCAwIDEgMjEuMzM0IDIxLjMzM3Y4NS4zMzRBMjEuMzMzIDIxLjMzMyAwIDAgMSA1MjIuOSAxOTJoLTIxLjMzM2EyMS4zMzMgMjEuMzMzIDAgMCAxLTIxLjMzMy0yMS4zMzNWODUuMzMzQTIxLjMzMyAyMS4zMzMgMCAwIDEgNTAxLjU2OCA2NGgyMS4zMzN6IiBmaWxsPSIjZWJlYmViIi8+PC9zdmc+"},99734:function(le,q,e){le.exports=e.p+"static/about.6af660a8.md"},8938:function(le,q,e){le.exports=e.p+"static/ui_interface.1e01ba33.c"},75112:function(le,q,e){le.exports=e.p+"static/ui_interface.a365dcb1.h"},33562:function(le,q,e){le.exports=e.p+"static/ui_types.1dde8224.h"},19293:function(le,q,e){le.exports=e.p+"static/eula.84c08b78.md"},25665:function(le,q,e){le.exports=e.p+"static/background.d741a18b.png"}}]);
